# è®¾è®¡æ¨¡å¼æ¦‚è®º

> ç¼–ç¨‹ä¸­çš„æ™ºæ…§ç»“æ™¶ â€”â€” å¯å¤ç”¨çš„é¢å‘å¯¹è±¡è½¯ä»¶è®¾è®¡è§£å†³æ–¹æ¡ˆ

## ğŸ“š ç›®å½•

1. [è®¾è®¡æ¨¡å¼åŸºç¡€](#è®¾è®¡æ¨¡å¼åŸºç¡€)
2. [è®¾è®¡åŸåˆ™](#è®¾è®¡åŸåˆ™)
3. [åˆ›å»ºå‹æ¨¡å¼](#åˆ›å»ºå‹æ¨¡å¼)
4. [ç»“æ„å‹æ¨¡å¼](#ç»“æ„å‹æ¨¡å¼)
5. [è¡Œä¸ºå‹æ¨¡å¼](#è¡Œä¸ºå‹æ¨¡å¼)
6. [å®æˆ˜åº”ç”¨](#å®æˆ˜åº”ç”¨)
7. [å­¦ä¹ è·¯å¾„](#å­¦ä¹ è·¯å¾„)

---

## è®¾è®¡æ¨¡å¼åŸºç¡€

### ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ

è®¾è®¡æ¨¡å¼ï¼ˆDesign Patternï¼‰æ˜¯åœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œ**å¯¹äºæŸäº›å¸¸è§é—®é¢˜çš„å…¸å‹è§£å†³æ–¹æ¡ˆ**ã€‚å®ƒä»¬å°±åƒæ˜¯é¢„åˆ¶çš„è“å›¾ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±ä»£ç ä¸­çš„å®é™…é—®é¢˜æ¥å®šåˆ¶è§£å†³æ–¹æ¡ˆã€‚

**ğŸ¤” æ€è€ƒï¼š** ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦"æ¨¡å¼"è¿™ä¸ªæ¦‚å¿µï¼Ÿ

è®¾è®¡æ¨¡å¼ä¸æ˜¯å…·ä½“çš„ä»£ç ï¼Œè€Œæ˜¯**è§£å†³ç‰¹å®šé—®é¢˜çš„é€šç”¨æ¦‚å¿µ**ã€‚ä½ éœ€è¦æ ¹æ®è‡ªå·±ç¨‹åºçš„éœ€æ±‚æ¥å®ç°æ¨¡å¼çš„ç»†èŠ‚ã€‚

### ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡æ¨¡å¼ï¼Ÿ

1. **ğŸ”„ é‡å¤å‡ºç°çš„é—®é¢˜éœ€è¦ç»Ÿä¸€çš„è§£å†³æ–¹æ¡ˆ**
   - è½¯ä»¶å¼€å‘ä¸­ä¼šé‡åˆ°ç›¸ä¼¼çš„è®¾è®¡é—®é¢˜
   - å‰äººçš„æ™ºæ…§å¯ä»¥é¿å…é‡å¤çŠ¯é”™

2. **ğŸ’¬ æä¾›å…±åŒçš„è®¾è®¡è¯æ±‡**
   - å›¢é˜Ÿæˆå‘˜å¯ä»¥ç”¨æ¨¡å¼åç§°å¿«é€Ÿæ²Ÿé€š
   - "ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼" æ¯” "åˆ›å»ºä¸€ä¸ªè®¢é˜…å‘å¸ƒç³»ç»Ÿ" æ›´ç²¾ç¡®

3. **ğŸ“ˆ æé«˜ä»£ç è´¨é‡**
   - ç»è¿‡éªŒè¯çš„è®¾è®¡æ–¹æ¡ˆ
   - æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§

4. **ğŸ“ å­¦ä¹ é¢å‘å¯¹è±¡è®¾è®¡çš„æœ€ä½³å®è·µ**
   - ç†è§£ä¼˜ç§€è®¾è®¡çš„ç²¾é«“
   - åŸ¹å…»è®¾è®¡æ€ç»´

### è®¾è®¡æ¨¡å¼çš„åˆ†ç±»

æ ¹æ®ç”¨é€”ï¼Œè®¾è®¡æ¨¡å¼å¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼š

#### ğŸ­ åˆ›å»ºå‹æ¨¡å¼ (Creational Patterns)
- **å…³æ³¨å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹**
- å°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»
- æä¾›åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼

#### ğŸ”§ ç»“æ„å‹æ¨¡å¼ (Structural Patterns)
- **å…³æ³¨ç±»å’Œå¯¹è±¡çš„ç»„åˆ**
- æè¿°å¦‚ä½•å°†ç±»æˆ–å¯¹è±¡ç»“åˆåœ¨ä¸€èµ·å½¢æˆæ›´å¤§çš„ç»“æ„
- ä½¿ç³»ç»Ÿæ›´åŠ çµæ´»å’Œé«˜æ•ˆ

#### ğŸ­ è¡Œä¸ºå‹æ¨¡å¼ (Behavioral Patterns)
- **å…³æ³¨å¯¹è±¡é—´çš„é€šä¿¡**
- æè¿°ç®—æ³•å’Œå¯¹è±¡é—´èŒè´£çš„åˆ†é…
- æé«˜ç³»ç»Ÿé—´é€šä¿¡çš„çµæ´»æ€§

---

## è®¾è®¡åŸåˆ™

åœ¨å­¦ä¹ å…·ä½“çš„è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£å‡ ä¸ªé‡è¦çš„è®¾è®¡åŸåˆ™ã€‚è¿™äº›åŸåˆ™æ˜¯è®¾è®¡æ¨¡å¼çš„ç†è®ºåŸºç¡€ï¼š

### SOLID åŸåˆ™

#### ğŸ¯ S - å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility Principle)
**ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å˜åŒ–çš„åŸå› **

```javascript
// âŒ è¿åå•ä¸€èŒè´£åŸåˆ™
class User {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }

  // ç”¨æˆ·æ•°æ®ç®¡ç†
  getName() { return this.name; }
  setName(name) { this.name = name; }

  // æ•°æ®åº“æ“ä½œ - ä¸åº”è¯¥åœ¨è¿™é‡Œ
  save() {
    // ä¿å­˜åˆ°æ•°æ®åº“
  }

  // é‚®ä»¶å‘é€ - ä¸åº”è¯¥åœ¨è¿™é‡Œ
  sendEmail(subject, content) {
    // å‘é€é‚®ä»¶
  }
}

// âœ… éµå¾ªå•ä¸€èŒè´£åŸåˆ™
class User {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }

  getName() { return this.name; }
  setName(name) { this.name = name; }
}

class UserRepository {
  save(user) {
    // ä¿å­˜ç”¨æˆ·åˆ°æ•°æ®åº“
  }
}

class EmailService {
  sendEmail(user, subject, content) {
    // å‘é€é‚®ä»¶ç»™ç”¨æˆ·
  }
}
```

#### ğŸ”“ O - å¼€é—­åŸåˆ™ (Open-Closed Principle)
**å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­**

```javascript
// âŒ è¿åå¼€é—­åŸåˆ™
class AreaCalculator {
  calculateArea(shapes) {
    let totalArea = 0;
    shapes.forEach(shape => {
      if (shape.type === 'rectangle') {
        totalArea += shape.width * shape.height;
      } else if (shape.type === 'circle') {
        totalArea += Math.PI * shape.radius * shape.radius;
      }
      // æ¯æ¬¡æ·»åŠ æ–°å½¢çŠ¶éƒ½è¦ä¿®æ”¹è¿™é‡Œ
    });
    return totalArea;
  }
}

// âœ… éµå¾ªå¼€é—­åŸåˆ™
class Shape {
  area() {
    throw new Error('Area method must be implemented');
  }
}

class Rectangle extends Shape {
  constructor(width, height) {
    super();
    this.width = width;
    this.height = height;
  }

  area() {
    return this.width * this.height;
  }
}

class Circle extends Shape {
  constructor(radius) {
    super();
    this.radius = radius;
  }

  area() {
    return Math.PI * this.radius * this.radius;
  }
}

class AreaCalculator {
  calculateArea(shapes) {
    return shapes.reduce((total, shape) => total + shape.area(), 0);
  }
}
```

#### ğŸ”„ L - é‡Œæ°æ›¿æ¢åŸåˆ™ (Liskov Substitution Principle)
**å­ç±»å¯¹è±¡åº”è¯¥èƒ½å¤Ÿæ›¿æ¢å…¶çˆ¶ç±»å¯¹è±¡**

#### ğŸ”Œ I - æ¥å£éš”ç¦»åŸåˆ™ (Interface Segregation Principle)
**ä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ä¾èµ–å®ƒä»¬ä¸ä½¿ç”¨çš„æ¥å£**

#### â¬‡ï¸ D - ä¾èµ–å€’ç½®åŸåˆ™ (Dependency Inversion Principle)
**é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–æŠ½è±¡**

### å…¶ä»–é‡è¦åŸåˆ™

#### ğŸ—ï¸ DRY - Don't Repeat Yourself
**ä¸è¦é‡å¤è‡ªå·±** - ç›¸åŒçš„é€»è¾‘ä¸åº”è¯¥å‡ºç°åœ¨å¤šä¸ªåœ°æ–¹

#### ğŸ’‹ KISS - Keep It Simple, Stupid
**ä¿æŒç®€å•** - ç®€å•çš„è§£å†³æ–¹æ¡ˆé€šå¸¸æ˜¯æœ€å¥½çš„

#### ğŸš« YAGNI - You Aren't Gonna Need It
**ä½ ä¸ä¼šéœ€è¦å®ƒ** - ä¸è¦æ·»åŠ å½“å‰ä¸éœ€è¦çš„åŠŸèƒ½

---

## åˆ›å»ºå‹æ¨¡å¼

åˆ›å»ºå‹æ¨¡å¼ä¸“æ³¨äºå¯¹è±¡çš„åˆ›å»ºæœºåˆ¶ï¼Œè¯•å›¾ä»¥é€‚åˆç‰¹å®šæƒ…å†µçš„æ–¹å¼æ¥åˆ›å»ºå¯¹è±¡ã€‚

### 1. å•ä¾‹æ¨¡å¼ (Singleton Pattern)

#### ğŸ“– å®šä¹‰ä¸æ„å›¾
ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚

#### ğŸ¯ é€‚ç”¨åœºæ™¯
- æ•°æ®åº“è¿æ¥æ± 
- æ—¥å¿—è®°å½•å™¨
- é…ç½®ç®¡ç†å™¨
- ç¼“å­˜ç®¡ç†å™¨

#### ğŸ’» JavaScript å®ç°

```javascript
class Singleton {
  constructor() {
    if (Singleton.instance) {
      return Singleton.instance;
    }

    this.data = [];
    Singleton.instance = this;
    return this;
  }

  addData(item) {
    this.data.push(item);
  }

  getData() {
    return this.data;
  }
}

// ä½¿ç”¨
const instance1 = new Singleton();
const instance2 = new Singleton();
console.log(instance1 === instance2); // true

// æ›´ä¼˜é›…çš„å®ç° - ä½¿ç”¨æ¨¡å—
const DatabaseConnection = (() => {
  let instance;

  function createInstance() {
    return {
      connect() {
        console.log('è¿æ¥åˆ°æ•°æ®åº“');
      },
      query(sql) {
        console.log(`æ‰§è¡ŒæŸ¥è¯¢: ${sql}`);
      }
    };
  }

  return {
    getInstance() {
      if (!instance) {
        instance = createInstance();
      }
      return instance;
    }
  };
})();

// ä½¿ç”¨
const db1 = DatabaseConnection.getInstance();
const db2 = DatabaseConnection.getInstance();
console.log(db1 === db2); // true
```

#### ğŸ¨ åœ¨å‰ç«¯æ¡†æ¶ä¸­çš„åº”ç”¨

```javascript
// Vue ä¸­çš„åº”ç”¨ - Vuex Store
class Store {
  constructor() {
    if (Store.instance) {
      return Store.instance;
    }

    this.state = {};
    this.mutations = {};
    Store.instance = this;
  }

  commit(type, payload) {
    if (this.mutations[type]) {
      this.mutations[type](this.state, payload);
    }
  }
}

// React ä¸­çš„åº”ç”¨ - Context
const AppContext = React.createContext();

export const useAppContext = () => {
  const context = React.useContext(AppContext);
  if (!context) {
    throw new Error('useAppContext must be used within AppProvider');
  }
  return context;
};
```

#### âœ… ä¼˜ç‚¹
- ç¡®ä¿å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹
- æä¾›å…¨å±€è®¿é—®ç‚¹
- å»¶è¿Ÿåˆå§‹åŒ–ï¼ŒèŠ‚çœèµ„æº

#### âŒ ç¼ºç‚¹
- è¿åå•ä¸€èŒè´£åŸåˆ™
- éšè—äº†ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»
- éš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯•

---

### 2. å·¥å‚æ¨¡å¼ (Factory Pattern)

#### ğŸ“– å®šä¹‰ä¸æ„å›¾
å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚

#### ğŸ¯ é€‚ç”¨åœºæ™¯
- æ ¹æ®ä¸åŒæ¡ä»¶åˆ›å»ºä¸åŒç±»å‹çš„å¯¹è±¡
- å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹å¤æ‚
- éœ€è¦éšè—å¯¹è±¡åˆ›å»ºçš„å…·ä½“ç»†èŠ‚

#### ğŸ’» ç®€å•å·¥å‚å®ç°

```javascript
// äº§å“ç±»
class Button {
  render() {
    throw new Error('render method must be implemented');
  }
}

class IOSButton extends Button {
  render() {
    return '<button class="ios-button">iOS é£æ ¼æŒ‰é’®</button>';
  }
}

class AndroidButton extends Button {
  render() {
    return '<button class="android-button">Android é£æ ¼æŒ‰é’®</button>';
  }
}

class WebButton extends Button {
  render() {
    return '<button class="web-button">Web é£æ ¼æŒ‰é’®</button>';
  }
}

// ç®€å•å·¥å‚
class ButtonFactory {
  static createButton(type) {
    switch (type) {
      case 'ios':
        return new IOSButton();
      case 'android':
        return new AndroidButton();
      case 'web':
        return new WebButton();
      default:
        throw new Error(`Unknown button type: ${type}`);
    }
  }
}

// ä½¿ç”¨
const iosButton = ButtonFactory.createButton('ios');
console.log(iosButton.render());
```

#### ğŸ’» å·¥å‚æ–¹æ³•å®ç°

```javascript
// æŠ½è±¡å·¥å‚ç±»
class UIFactory {
  createButton() {
    throw new Error('createButton method must be implemented');
  }

  createInput() {
    throw new Error('createInput method must be implemented');
  }
}

// å…·ä½“å·¥å‚ç±»
class IOSFactory extends UIFactory {
  createButton() {
    return new IOSButton();
  }

  createInput() {
    return new IOSInput();
  }
}

class AndroidFactory extends UIFactory {
  createButton() {
    return new AndroidButton();
  }

  createInput() {
    return new AndroidInput();
  }
}

// ä½¿ç”¨
class Application {
  constructor(factory) {
    this.factory = factory;
  }

  createUI() {
    const button = this.factory.createButton();
    const input = this.factory.createInput();
    return { button, input };
  }
}

const app = new Application(new IOSFactory());
const ui = app.createUI();
```

#### ğŸ¨ åœ¨å‰ç«¯ä¸­çš„å®é™…åº”ç”¨

```javascript
// React ç»„ä»¶å·¥å‚
const ComponentFactory = {
  createForm(type, props) {
    const components = {
      'login': () => import('./LoginForm'),
      'register': () => import('./RegisterForm'),
      'forgot': () => import('./ForgotPasswordForm')
    };

    const Component = components[type];
    if (!Component) {
      throw new Error(`Unknown form type: ${type}`);
    }

    return Component().then(module =>
      React.createElement(module.default, props)
    );
  }
};

// HTTP è¯·æ±‚å·¥å‚
class RequestFactory {
  static createRequest(type) {
    const configs = {
      'api': {
        baseURL: 'https://api.example.com',
        timeout: 5000,
        headers: { 'Content-Type': 'application/json' }
      },
      'upload': {
        baseURL: 'https://upload.example.com',
        timeout: 30000,
        headers: { 'Content-Type': 'multipart/form-data' }
      },
      'download': {
        baseURL: 'https://cdn.example.com',
        timeout: 60000,
        responseType: 'blob'
      }
    };

    return axios.create(configs[type]);
  }
}
```

---

### 3. å»ºé€ è€…æ¨¡å¼ (Builder Pattern)

#### ğŸ“– å®šä¹‰ä¸æ„å›¾
å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚

#### ğŸ¯ é€‚ç”¨åœºæ™¯
- å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹å¤æ‚ï¼Œæœ‰å¾ˆå¤šå¯é€‰å‚æ•°
- éœ€è¦åˆ›å»ºçš„å¯¹è±¡æœ‰å¤šç§é…ç½®
- åˆ›å»ºè¿‡ç¨‹éœ€è¦åˆ†æ­¥éª¤è¿›è¡Œ

#### ğŸ’» JavaScript å®ç°

```javascript
class Computer {
  constructor() {
    this.cpu = '';
    this.memory = '';
    this.storage = '';
    this.graphics = '';
    this.os = '';
  }

  display() {
    return `
      ç”µè„‘é…ç½®ï¼š
      CPU: ${this.cpu}
      å†…å­˜: ${this.memory}
      å­˜å‚¨: ${this.storage}
      æ˜¾å¡: ${this.graphics}
      æ“ä½œç³»ç»Ÿ: ${this.os}
    `;
  }
}

class ComputerBuilder {
  constructor() {
    this.computer = new Computer();
  }

  setCPU(cpu) {
    this.computer.cpu = cpu;
    return this; // è¿”å›è‡ªèº«ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨
  }

  setMemory(memory) {
    this.computer.memory = memory;
    return this;
  }

  setStorage(storage) {
    this.computer.storage = storage;
    return this;
  }

  setGraphics(graphics) {
    this.computer.graphics = graphics;
    return this;
  }

  setOS(os) {
    this.computer.os = os;
    return this;
  }

  build() {
    return this.computer;
  }
}

// ä½¿ç”¨å»ºé€ è€…æ¨¡å¼
const gamingComputer = new ComputerBuilder()
  .setCPU('Intel i9-12900K')
  .setMemory('32GB DDR4')
  .setStorage('1TB NVMe SSD')
  .setGraphics('RTX 4080')
  .setOS('Windows 11')
  .build();

console.log(gamingComputer.display());

// å¯¼æ¼”ç±» - å°è£…æ„å»ºè¿‡ç¨‹
class ComputerDirector {
  static buildGamingComputer() {
    return new ComputerBuilder()
      .setCPU('Intel i9-12900K')
      .setMemory('32GB DDR4')
      .setStorage('1TB NVMe SSD')
      .setGraphics('RTX 4080')
      .setOS('Windows 11')
      .build();
  }

  static buildOfficeComputer() {
    return new ComputerBuilder()
      .setCPU('Intel i5-12600')
      .setMemory('16GB DDR4')
      .setStorage('512GB SSD')
      .setGraphics('Integrated')
      .setOS('Windows 11')
      .build();
  }
}
```

#### ğŸ¨ åœ¨å‰ç«¯ä¸­çš„åº”ç”¨

```javascript
// HTTP è¯·æ±‚å»ºé€ è€…
class RequestBuilder {
  constructor() {
    this.config = {
      method: 'GET',
      headers: {},
      params: {},
      data: null
    };
  }

  method(method) {
    this.config.method = method;
    return this;
  }

  url(url) {
    this.config.url = url;
    return this;
  }

  header(key, value) {
    this.config.headers[key] = value;
    return this;
  }

  param(key, value) {
    this.config.params[key] = value;
    return this;
  }

  body(data) {
    this.config.data = data;
    return this;
  }

  build() {
    return axios(this.config);
  }
}

// ä½¿ç”¨
const response = await new RequestBuilder()
  .method('POST')
  .url('/api/users')
  .header('Authorization', 'Bearer token')
  .header('Content-Type', 'application/json')
  .body({ name: 'å¼ ä¸‰', email: 'zhangsan@example.com' })
  .build();

// React ç»„ä»¶å»ºé€ è€…
class ComponentBuilder {
  constructor(type) {
    this.element = document.createElement(type);
  }

  className(className) {
    this.element.className = className;
    return this;
  }

  text(text) {
    this.element.textContent = text;
    return this;
  }

  onClick(handler) {
    this.element.addEventListener('click', handler);
    return this;
  }

  appendTo(parent) {
    parent.appendChild(this.element);
    return this;
  }

  build() {
    return this.element;
  }
}

// ä½¿ç”¨
const button = new ComponentBuilder('button')
  .className('btn btn-primary')
  .text('ç‚¹å‡»æˆ‘')
  .onClick(() => alert('æŒ‰é’®è¢«ç‚¹å‡»'))
  .build();
```

---

## ç»“æ„å‹æ¨¡å¼

ç»“æ„å‹æ¨¡å¼ä¸“æ³¨äºå¦‚ä½•å°†ç±»å’Œå¯¹è±¡ç»„åˆæˆæ›´å¤§çš„ç»“æ„ï¼ŒåŒæ—¶ä¿æŒç»“æ„çš„çµæ´»æ€§å’Œé«˜æ•ˆæ€§ã€‚

### 4. é€‚é…å™¨æ¨¡å¼ (Adapter Pattern)

#### ğŸ“– å®šä¹‰ä¸æ„å›¾
å…è®¸æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥åˆä½œæ— é—´ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚

#### ğŸ¯ é€‚ç”¨åœºæ™¯
- ç³»ç»Ÿéœ€è¦ä½¿ç”¨ç°æœ‰çš„ç±»ï¼Œä½†å…¶æ¥å£ä¸ç¬¦åˆéœ€æ±‚
- æƒ³è¦åˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„ç±»ï¼Œä¸å…¶ä»–ä¸ç›¸å…³çš„ç±»ååŒå·¥ä½œ
- éœ€è¦åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“

#### ğŸ’» JavaScript å®ç°

```javascript
// æ—§çš„éŸ³é¢‘æ’­æ”¾å™¨ï¼ˆåªæ”¯æŒ mp3ï¼‰
class OldAudioPlayer {
  playMP3(filename) {
    console.log(`æ’­æ”¾ MP3 æ–‡ä»¶: ${filename}`);
  }
}

// æ–°çš„é«˜çº§éŸ³é¢‘æ’­æ”¾å™¨
class AdvancedAudioPlayer {
  playWAV(filename) {
    console.log(`æ’­æ”¾ WAV æ–‡ä»¶: ${filename}`);
  }

  playFLAC(filename) {
    console.log(`æ’­æ”¾ FLAC æ–‡ä»¶: ${filename}`);
  }
}

// é€‚é…å™¨ - è®©æ—§æ’­æ”¾å™¨æ”¯æŒæ–°æ ¼å¼
class AudioAdapter {
  constructor(audioType) {
    this.audioType = audioType;
    this.advancedPlayer = new AdvancedAudioPlayer();
  }

  play(filename) {
    switch (this.audioType.toLowerCase()) {
      case 'wav':
        this.advancedPlayer.playWAV(filename);
        break;
      case 'flac':
        this.advancedPlayer.playFLAC(filename);
        break;
      default:
        console.log(`ä¸æ”¯æŒçš„éŸ³é¢‘æ ¼å¼: ${this.audioType}`);
    }
  }
}

// åª’ä½“æ’­æ”¾å™¨ - ä½¿ç”¨é€‚é…å™¨
class MediaPlayer {
  constructor() {
    this.oldPlayer = new OldAudioPlayer();
  }

  play(audioType, filename) {
    if (audioType.toLowerCase() === 'mp3') {
      this.oldPlayer.playMP3(filename);
    } else {
      const adapter = new AudioAdapter(audioType);
      adapter.play(filename);
    }
  }
}

// ä½¿ç”¨
const player = new MediaPlayer();
player.play('mp3', 'song.mp3');   // æ’­æ”¾ MP3 æ–‡ä»¶: song.mp3
player.play('wav', 'song.wav');   // æ’­æ”¾ WAV æ–‡ä»¶: song.wav
player.play('flac', 'song.flac'); // æ’­æ”¾ FLAC æ–‡ä»¶: song.flac
```

#### ğŸ¨ åœ¨å‰ç«¯ä¸­çš„å®é™…åº”ç”¨

```javascript
// ä¸åŒ HTTP åº“çš„é€‚é…å™¨
class HTTPAdapter {
  constructor(httpLib) {
    this.httpLib = httpLib;
  }

  async request(config) {
    switch (this.httpLib) {
      case 'fetch':
        return this.fetchAdapter(config);
      case 'axios':
        return this.axiosAdapter(config);
      case 'jquery':
        return this.jqueryAdapter(config);
      default:
        throw new Error(`ä¸æ”¯æŒçš„ HTTP åº“: ${this.httpLib}`);
    }
  }

  async fetchAdapter(config) {
    const response = await fetch(config.url, {
      method: config.method,
      headers: config.headers,
      body: JSON.stringify(config.data)
    });
    return await response.json();
  }

  async axiosAdapter(config) {
    const response = await axios(config);
    return response.data;
  }

  jqueryAdapter(config) {
    return new Promise((resolve, reject) => {
      $.ajax({
        url: config.url,
        method: config.method,
        data: config.data,
        success: resolve,
        error: reject
      });
    });
  }
}

// ç»Ÿä¸€çš„ API å®¢æˆ·ç«¯
class APIClient {
  constructor(httpLib = 'fetch') {
    this.adapter = new HTTPAdapter(httpLib);
  }

  async get(url, headers = {}) {
    return this.adapter.request({
      method: 'GET',
      url,
      headers
    });
  }

  async post(url, data, headers = {}) {
    return this.adapter.request({
      method: 'POST',
      url,
      data,
      headers
    });
  }
}

// ä¸åŒå­˜å‚¨æ–¹å¼çš„é€‚é…å™¨
class StorageAdapter {
  constructor(storageType) {
    this.storageType = storageType;
  }

  setItem(key, value) {
    const stringValue = JSON.stringify(value);

    switch (this.storageType) {
      case 'localStorage':
        localStorage.setItem(key, stringValue);
        break;
      case 'sessionStorage':
        sessionStorage.setItem(key, stringValue);
        break;
      case 'cookie':
        document.cookie = `${key}=${stringValue}`;
        break;
      case 'memory':
        this.memoryStorage = this.memoryStorage || {};
        this.memoryStorage[key] = stringValue;
        break;
    }
  }

  getItem(key) {
    let value;

    switch (this.storageType) {
      case 'localStorage':
        value = localStorage.getItem(key);
        break;
      case 'sessionStorage':
        value = sessionStorage.getItem(key);
        break;
      case 'cookie':
        value = this.getCookieValue(key);
        break;
      case 'memory':
        value = this.memoryStorage?.[key];
        break;
    }

    return value ? JSON.parse(value) : null;
  }

  getCookieValue(name) {
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
      const [cookieName, cookieValue] = cookie.split('=');
      if (cookieName.trim() === name) {
        return cookieValue;
      }
    }
    return null;
  }
}
```

---

### 5. è£…é¥°å™¨æ¨¡å¼ (Decorator Pattern)

#### ğŸ“– å®šä¹‰ä¸æ„å›¾
åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°å™¨æ¨¡å¼ç›¸æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚

#### ğŸ¯ é€‚ç”¨åœºæ™¯
- éœ€è¦æ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½ï¼Œæˆ–ç»™ä¸€ä¸ªç±»æ·»åŠ é™„åŠ èŒè´£
- éœ€è¦åŠ¨æ€çš„ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¯ä»¥å†åŠ¨æ€çš„æ’¤é”€
- éœ€è¦å¢åŠ ç”±ä¸€äº›åŸºæœ¬åŠŸèƒ½çš„æ’åˆ—ç»„åˆè€Œäº§ç”Ÿçš„éå¸¸å¤§é‡çš„åŠŸèƒ½

#### ğŸ’» JavaScript å®ç°

```javascript
// åŸºç¡€ç»„ä»¶
class Coffee {
  cost() {
    return 5;
  }

  description() {
    return 'å’–å•¡';
  }
}

// è£…é¥°å™¨åŸºç±»
class CoffeeDecorator {
  constructor(coffee) {
    this.coffee = coffee;
  }

  cost() {
    return this.coffee.cost();
  }

  description() {
    return this.coffee.description();
  }
}

// å…·ä½“è£…é¥°å™¨
class MilkDecorator extends CoffeeDecorator {
  cost() {
    return this.coffee.cost() + 2;
  }

  description() {
    return this.coffee.description() + ' + ç‰›å¥¶';
  }
}

class SugarDecorator extends CoffeeDecorator {
  cost() {
    return this.coffee.cost() + 1;
  }

  description() {
    return this.coffee.description() + ' + ç³–';
  }
}

class WhipDecorator extends CoffeeDecorator {
  cost() {
    return this.coffee.cost() + 3;
  }

  description() {
    return this.coffee.description() + ' + å¥¶æ³¡';
  }
}

// ä½¿ç”¨è£…é¥°å™¨
let coffee = new Coffee();
console.log(`${coffee.description()}: Â¥${coffee.cost()}`);
// å’–å•¡: Â¥5

coffee = new MilkDecorator(coffee);
console.log(`${coffee.description()}: Â¥${coffee.cost()}`);
// å’–å•¡ + ç‰›å¥¶: Â¥7

coffee = new SugarDecorator(coffee);
console.log(`${coffee.description()}: Â¥${coffee.cost()}`);
// å’–å•¡ + ç‰›å¥¶ + ç³–: Â¥8

coffee = new WhipDecorator(coffee);
console.log(`${coffee.description()}: Â¥${coffee.cost()}`);
// å’–å•¡ + ç‰›å¥¶ + ç³– + å¥¶æ³¡: Â¥11
```

#### ğŸ¨ JavaScript ä¸­çš„å‡½æ•°è£…é¥°å™¨

```javascript
// æ—¥å¿—è£…é¥°å™¨
function logDecorator(target, propertyKey, descriptor) {
  const originalMethod = descriptor.value;

  descriptor.value = function(...args) {
    console.log(`è°ƒç”¨æ–¹æ³• ${propertyKey}ï¼Œå‚æ•°:`, args);
    const result = originalMethod.apply(this, args);
    console.log(`æ–¹æ³• ${propertyKey} è¿”å›:`, result);
    return result;
  };

  return descriptor;
}

// æ€§èƒ½ç›‘æ§è£…é¥°å™¨
function performanceDecorator(target, propertyKey, descriptor) {
  const originalMethod = descriptor.value;

  descriptor.value = function(...args) {
    const start = performance.now();
    const result = originalMethod.apply(this, args);
    const end = performance.now();
    console.log(`æ–¹æ³• ${propertyKey} æ‰§è¡Œæ—¶é—´: ${end - start}ms`);
    return result;
  };

  return descriptor;
}

// ç¼“å­˜è£…é¥°å™¨
function cacheDecorator(target, propertyKey, descriptor) {
  const originalMethod = descriptor.value;
  const cache = new Map();

  descriptor.value = function(...args) {
    const key = JSON.stringify(args);

    if (cache.has(key)) {
      console.log(`ç¼“å­˜å‘½ä¸­: ${propertyKey}`);
      return cache.get(key);
    }

    const result = originalMethod.apply(this, args);
    cache.set(key, result);
    return result;
  };

  return descriptor;
}

// ä½¿ç”¨è£…é¥°å™¨
class Calculator {
  @logDecorator
  @performanceDecorator
  add(a, b) {
    return a + b;
  }

  @cacheDecorator
  fibonacci(n) {
    if (n < 2) return n;
    return this.fibonacci(n - 1) + this.fibonacci(n - 2);
  }
}
```

#### ğŸ¨ React ä¸­çš„é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰

```javascript
// é«˜é˜¶ç»„ä»¶æœ¬è´¨ä¸Šå°±æ˜¯è£…é¥°å™¨æ¨¡å¼
function withLoading(WrappedComponent) {
  return function WithLoadingComponent(props) {
    if (props.isLoading) {
      return <div>åŠ è½½ä¸­...</div>;
    }

    return <WrappedComponent {...props} />;
  };
}

function withAuth(WrappedComponent) {
  return function WithAuthComponent(props) {
    const { isAuthenticated } = useAuth();

    if (!isAuthenticated) {
      return <div>è¯·å…ˆç™»å½•</div>;
    }

    return <WrappedComponent {...props} />;
  };
}

// ä½¿ç”¨å¤šä¸ªè£…é¥°å™¨
const UserProfile = withAuth(withLoading(UserProfileComponent));

// å‡½æ•°å¼è£…é¥°å™¨ç»„åˆ
const enhance = compose(
  withAuth,
  withLoading,
  withErrorBoundary
);

const EnhancedUserProfile = enhance(UserProfileComponent);
```

---

## è¡Œä¸ºå‹æ¨¡å¼

è¡Œä¸ºå‹æ¨¡å¼ä¸“æ³¨äºç®—æ³•å’Œå¯¹è±¡é—´èŒè´£çš„åˆ†é…ï¼Œæè¿°äº†å¯¹è±¡å’Œç±»çš„æ¨¡å¼ä»¥åŠå®ƒä»¬ä¹‹é—´çš„é€šä¿¡æ¨¡å¼ã€‚

### 6. è§‚å¯Ÿè€…æ¨¡å¼ (Observer Pattern)

#### ğŸ“– å®šä¹‰ä¸æ„å›¾
å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚

#### ğŸ¯ é€‚ç”¨åœºæ™¯
- å½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢
- å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜
- å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œè€Œåˆä¸èƒ½å‡å®šå…¶ä»–å¯¹è±¡æ˜¯è°

#### ğŸ’» JavaScript å®ç°

```javascript
// ä¸»é¢˜ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰
class Subject {
  constructor() {
    this.observers = [];
    this.state = null;
  }

  // æ·»åŠ è§‚å¯Ÿè€…
  addObserver(observer) {
    this.observers.push(observer);
  }

  // ç§»é™¤è§‚å¯Ÿè€…
  removeObserver(observer) {
    const index = this.observers.indexOf(observer);
    if (index > -1) {
      this.observers.splice(index, 1);
    }
  }

  // é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…
  notify() {
    this.observers.forEach(observer => {
      observer.update(this.state);
    });
  }

  // è®¾ç½®çŠ¶æ€å¹¶é€šçŸ¥è§‚å¯Ÿè€…
  setState(state) {
    this.state = state;
    this.notify();
  }

  getState() {
    return this.state;
  }
}

// è§‚å¯Ÿè€…æ¥å£
class Observer {
  update(state) {
    throw new Error('update method must be implemented');
  }
}

// å…·ä½“è§‚å¯Ÿè€…
class ConcreteObserver extends Observer {
  constructor(name) {
    super();
    this.name = name;
  }

  update(state) {
    console.log(`${this.name} æ”¶åˆ°é€šçŸ¥ï¼Œæ–°çŠ¶æ€: ${state}`);
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const subject = new Subject();

const observer1 = new ConcreteObserver('è§‚å¯Ÿè€…1');
const observer2 = new ConcreteObserver('è§‚å¯Ÿè€…2');
const observer3 = new ConcreteObserver('è§‚å¯Ÿè€…3');

subject.addObserver(observer1);
subject.addObserver(observer2);
subject.addObserver(observer3);

subject.setState('æ–°çš„çŠ¶æ€');
// è¾“å‡º:
// è§‚å¯Ÿè€…1 æ”¶åˆ°é€šçŸ¥ï¼Œæ–°çŠ¶æ€: æ–°çš„çŠ¶æ€
// è§‚å¯Ÿè€…2 æ”¶åˆ°é€šçŸ¥ï¼Œæ–°çŠ¶æ€: æ–°çš„çŠ¶æ€
// è§‚å¯Ÿè€…3 æ”¶åˆ°é€šçŸ¥ï¼Œæ–°çŠ¶æ€: æ–°çš„çŠ¶æ€

subject.removeObserver(observer2);
subject.setState('å¦ä¸€ä¸ªçŠ¶æ€');
// è¾“å‡º:
// è§‚å¯Ÿè€…1 æ”¶åˆ°é€šçŸ¥ï¼Œæ–°çŠ¶æ€: å¦ä¸€ä¸ªçŠ¶æ€
// è§‚å¯Ÿè€…3 æ”¶åˆ°é€šçŸ¥ï¼Œæ–°çŠ¶æ€: å¦ä¸€ä¸ªçŠ¶æ€
```

#### ğŸ¨ EventEmitter å®ç°

```javascript
class EventEmitter {
  constructor() {
    this.events = {};
  }

  // ç›‘å¬äº‹ä»¶
  on(eventName, callback) {
    if (!this.events[eventName]) {
      this.events[eventName] = [];
    }
    this.events[eventName].push(callback);
  }

  // ç›‘å¬ä¸€æ¬¡
  once(eventName, callback) {
    const wrapper = (...args) => {
      callback(...args);
      this.off(eventName, wrapper);
    };
    this.on(eventName, wrapper);
  }

  // ç§»é™¤ç›‘å¬
  off(eventName, callback) {
    if (!this.events[eventName]) return;

    this.events[eventName] = this.events[eventName].filter(
      cb => cb !== callback
    );
  }

  // è§¦å‘äº‹ä»¶
  emit(eventName, ...args) {
    if (!this.events[eventName]) return;

    this.events[eventName].forEach(callback => {
      callback(...args);
    });
  }

  // ç§»é™¤æ‰€æœ‰ç›‘å¬å™¨
  removeAllListeners(eventName) {
    if (eventName) {
      delete this.events[eventName];
    } else {
      this.events = {};
    }
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const emitter = new EventEmitter();

// æ·»åŠ ç›‘å¬å™¨
emitter.on('userLogin', (user) => {
  console.log(`ç”¨æˆ· ${user.name} ç™»å½•äº†`);
});

emitter.on('userLogin', (user) => {
  console.log(`è®°å½•ç”¨æˆ· ${user.id} çš„ç™»å½•æ—¶é—´`);
});

// è§¦å‘äº‹ä»¶
emitter.emit('userLogin', { id: 1, name: 'å¼ ä¸‰' });
// è¾“å‡º:
// ç”¨æˆ· å¼ ä¸‰ ç™»å½•äº†
// è®°å½•ç”¨æˆ· 1 çš„ç™»å½•æ—¶é—´
```

#### ğŸ¨ åœ¨å‰ç«¯æ¡†æ¶ä¸­çš„åº”ç”¨

```javascript
// Vue çš„å“åº”å¼ç³»ç»Ÿ
class Vue {
  constructor(options) {
    this.data = options.data;
    this.observers = [];

    // ä½¿æ•°æ®å˜ä¸ºå“åº”å¼
    this.observe(this.data);
  }

  observe(data) {
    Object.keys(data).forEach(key => {
      let value = data[key];
      const observers = [];

      Object.defineProperty(data, key, {
        get() {
          // æ”¶é›†ä¾èµ–
          if (Vue.currentWatcher) {
            observers.push(Vue.currentWatcher);
          }
          return value;
        },
        set(newValue) {
          value = newValue;
          // é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…
          observers.forEach(watcher => watcher.update());
        }
      });
    });
  }
}

// React çš„çŠ¶æ€ç®¡ç†
class Store {
  constructor(initialState = {}) {
    this.state = initialState;
    this.subscribers = [];
  }

  // è®¢é˜…çŠ¶æ€å˜åŒ–
  subscribe(callback) {
    this.subscribers.push(callback);

    // è¿”å›å–æ¶ˆè®¢é˜…çš„å‡½æ•°
    return () => {
      const index = this.subscribers.indexOf(callback);
      if (index > -1) {
        this.subscribers.splice(index, 1);
      }
    };
  }

  // æ›´æ–°çŠ¶æ€
  setState(newState) {
    this.state = { ...this.state, ...newState };
    this.notify();
  }

  // é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…
  notify() {
    this.subscribers.forEach(callback => {
      callback(this.state);
    });
  }

  getState() {
    return this.state;
  }
}

// ä½¿ç”¨
const store = new Store({ count: 0, user: null });

const unsubscribe = store.subscribe((state) => {
  console.log('çŠ¶æ€æ›´æ–°:', state);
});

store.setState({ count: 1 }); // çŠ¶æ€æ›´æ–°: { count: 1, user: null }
store.setState({ user: { name: 'å¼ ä¸‰' } }); // çŠ¶æ€æ›´æ–°: { count: 1, user: { name: 'å¼ ä¸‰' } }

unsubscribe(); // å–æ¶ˆè®¢é˜…
```

---

### 7. ç­–ç•¥æ¨¡å¼ (Strategy Pattern)

#### ğŸ“– å®šä¹‰ä¸æ„å›¾
å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ç›¸äº’æ›¿æ¢ã€‚æœ¬æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·è€Œå˜åŒ–ã€‚

#### ğŸ¯ é€‚ç”¨åœºæ™¯
- æœ‰å¤šç§æ–¹å¼å®ç°åŒä¸€ä¸ªåŠŸèƒ½
- éœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©ç®—æ³•
- æƒ³è¦é¿å…å¤šé‡æ¡ä»¶è¯­å¥

#### ğŸ’» JavaScript å®ç°

```javascript
// ç­–ç•¥æ¥å£
class Strategy {
  execute() {
    throw new Error('execute method must be implemented');
  }
}

// å…·ä½“ç­–ç•¥ - ä¸åŒçš„æ’åºç®—æ³•
class BubbleSort extends Strategy {
  execute(array) {
    console.log('ä½¿ç”¨å†’æ³¡æ’åº');
    const arr = [...array];
    const n = arr.length;

    for (let i = 0; i < n - 1; i++) {
      for (let j = 0; j < n - 1 - i; j++) {
        if (arr[j] > arr[j + 1]) {
          [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
        }
      }
    }

    return arr;
  }
}

class QuickSort extends Strategy {
  execute(array) {
    console.log('ä½¿ç”¨å¿«é€Ÿæ’åº');

    if (array.length <= 1) return array;

    const pivot = array[Math.floor(array.length / 2)];
    const left = array.filter(x => x < pivot);
    const middle = array.filter(x => x === pivot);
    const right = array.filter(x => x > pivot);

    return [
      ...this.execute(left),
      ...middle,
      ...this.execute(right)
    ];
  }
}

class MergeSort extends Strategy {
  execute(array) {
    console.log('ä½¿ç”¨å½’å¹¶æ’åº');

    if (array.length <= 1) return array;

    const mid = Math.floor(array.length / 2);
    const left = this.execute(array.slice(0, mid));
    const right = this.execute(array.slice(mid));

    return this.merge(left, right);
  }

  merge(left, right) {
    const result = [];
    let leftIndex = 0;
    let rightIndex = 0;

    while (leftIndex < left.length && rightIndex < right.length) {
      if (left[leftIndex] < right[rightIndex]) {
        result.push(left[leftIndex]);
        leftIndex++;
      } else {
        result.push(right[rightIndex]);
        rightIndex++;
      }
    }

    return result
      .concat(left.slice(leftIndex))
      .concat(right.slice(rightIndex));
  }
}

// ä¸Šä¸‹æ–‡ç±»
class SortContext {
  constructor(strategy) {
    this.strategy = strategy;
  }

  setStrategy(strategy) {
    this.strategy = strategy;
  }

  sort(array) {
    return this.strategy.execute(array);
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const data = [64, 34, 25, 12, 22, 11, 90];

const sorter = new SortContext(new BubbleSort());
console.log(sorter.sort(data)); // ä½¿ç”¨å†’æ³¡æ’åº

sorter.setStrategy(new QuickSort());
console.log(sorter.sort(data)); // ä½¿ç”¨å¿«é€Ÿæ’åº

sorter.setStrategy(new MergeSort());
console.log(sorter.sort(data)); // ä½¿ç”¨å½’å¹¶æ’åº
```

#### ğŸ¨ å®é™…åº”ç”¨åœºæ™¯

```javascript
// æ”¯ä»˜ç­–ç•¥
class PaymentStrategy {
  pay(amount) {
    throw new Error('pay method must be implemented');
  }
}

class CreditCardPayment extends PaymentStrategy {
  constructor(cardNumber, cvv, expiryDate) {
    super();
    this.cardNumber = cardNumber;
    this.cvv = cvv;
    this.expiryDate = expiryDate;
  }

  pay(amount) {
    console.log(`ä½¿ç”¨ä¿¡ç”¨å¡æ”¯ä»˜ Â¥${amount}`);
    console.log(`å¡å·: ${this.cardNumber}`);
    return { success: true, method: 'credit_card', amount };
  }
}

class AliPayPayment extends PaymentStrategy {
  constructor(account) {
    super();
    this.account = account;
  }

  pay(amount) {
    console.log(`ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ Â¥${amount}`);
    console.log(`è´¦æˆ·: ${this.account}`);
    return { success: true, method: 'alipay', amount };
  }
}

class WeChatPayment extends PaymentStrategy {
  constructor(account) {
    super();
    this.account = account;
  }

  pay(amount) {
    console.log(`ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ Â¥${amount}`);
    console.log(`è´¦æˆ·: ${this.account}`);
    return { success: true, method: 'wechat', amount };
  }
}

// è´­ç‰©è½¦
class ShoppingCart {
  constructor() {
    this.items = [];
    this.paymentStrategy = null;
  }

  addItem(item) {
    this.items.push(item);
  }

  setPaymentStrategy(strategy) {
    this.paymentStrategy = strategy;
  }

  getTotalAmount() {
    return this.items.reduce((total, item) => total + item.price, 0);
  }

  checkout() {
    if (!this.paymentStrategy) {
      throw new Error('è¯·é€‰æ‹©æ”¯ä»˜æ–¹å¼');
    }

    const amount = this.getTotalAmount();
    return this.paymentStrategy.pay(amount);
  }
}

// ä½¿ç”¨
const cart = new ShoppingCart();
cart.addItem({ name: 'å•†å“1', price: 100 });
cart.addItem({ name: 'å•†å“2', price: 200 });

// ä½¿ç”¨ä¸åŒçš„æ”¯ä»˜ç­–ç•¥
cart.setPaymentStrategy(new CreditCardPayment('1234-5678-9012-3456', '123', '12/25'));
cart.checkout(); // ä½¿ç”¨ä¿¡ç”¨å¡æ”¯ä»˜

cart.setPaymentStrategy(new AliPayPayment('user@example.com'));
cart.checkout(); // ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜
```

#### ğŸ¨ è¡¨å•éªŒè¯ç­–ç•¥

```javascript
// éªŒè¯ç­–ç•¥
const validationStrategies = {
  required: (value, message = 'æ­¤å­—æ®µä¸èƒ½ä¸ºç©º') => {
    return value && value.trim() !== '' ? null : message;
  },

  email: (value, message = 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€') => {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(value) ? null : message;
  },

  minLength: (minLength, message) => (value) => {
    if (!message) message = `æœ€å°‘éœ€è¦ ${minLength} ä¸ªå­—ç¬¦`;
    return value && value.length >= minLength ? null : message;
  },

  maxLength: (maxLength, message) => (value) => {
    if (!message) message = `æœ€å¤šåªèƒ½ ${maxLength} ä¸ªå­—ç¬¦`;
    return !value || value.length <= maxLength ? null : message;
  },

  pattern: (regex, message = 'æ ¼å¼ä¸æ­£ç¡®') => (value) => {
    return regex.test(value) ? null : message;
  }
};

// è¡¨å•éªŒè¯å™¨
class FormValidator {
  constructor() {
    this.rules = {};
  }

  addRule(fieldName, strategies) {
    this.rules[fieldName] = strategies;
  }

  validate(formData) {
    const errors = {};

    Object.keys(this.rules).forEach(fieldName => {
      const value = formData[fieldName];
      const strategies = this.rules[fieldName];

      for (let strategy of strategies) {
        const error = strategy(value);
        if (error) {
          errors[fieldName] = error;
          break; // ä¸€ä¸ªå­—æ®µåªæ˜¾ç¤ºç¬¬ä¸€ä¸ªé”™è¯¯
        }
      }
    });

    return {
      isValid: Object.keys(errors).length === 0,
      errors
    };
  }
}

// ä½¿ç”¨
const validator = new FormValidator();

validator.addRule('email', [
  validationStrategies.required,
  validationStrategies.email
]);

validator.addRule('password', [
  validationStrategies.required,
  validationStrategies.minLength(8, 'å¯†ç è‡³å°‘éœ€è¦8ä¸ªå­—ç¬¦'),
  validationStrategies.pattern(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/, 'å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯å’Œæ•°å­—')
]);

validator.addRule('username', [
  validationStrategies.required,
  validationStrategies.minLength(3),
  validationStrategies.maxLength(20)
]);

const formData = {
  email: 'user@example.com',
  password: 'Password123',
  username: 'john'
};

const result = validator.validate(formData);
console.log(result);
// { isValid: true, errors: {} }
```

---

## å®æˆ˜åº”ç”¨

### å‰ç«¯æ¡†æ¶ä¸­çš„è®¾è®¡æ¨¡å¼

#### Vue.js ä¸­çš„è®¾è®¡æ¨¡å¼

```javascript
// 1. è§‚å¯Ÿè€…æ¨¡å¼ - Vue çš„å“åº”å¼ç³»ç»Ÿ
class Vue {
  constructor(options) {
    this.data = options.data;
    this.methods = options.methods;

    // è§‚å¯Ÿè€…æ¨¡å¼ï¼šç›‘å¬æ•°æ®å˜åŒ–
    this.observe(this.data);

    // ä»£ç†æ¨¡å¼ï¼šå°† data å’Œ methods ä»£ç†åˆ°å®ä¾‹ä¸Š
    this.proxy();
  }

  observe(data) {
    Object.keys(data).forEach(key => {
      let value = data[key];
      const dep = new Dep(); // ä¾èµ–æ”¶é›†å™¨

      Object.defineProperty(this.data, key, {
        get() {
          // æ”¶é›†ä¾èµ–
          if (Dep.target) {
            dep.depend();
          }
          return value;
        },
        set(newValue) {
          if (value !== newValue) {
            value = newValue;
            // é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…
            dep.notify();
          }
        }
      });
    });
  }

  proxy() {
    Object.keys(this.data).forEach(key => {
      Object.defineProperty(this, key, {
        get() {
          return this.data[key];
        },
        set(value) {
          this.data[key] = value;
        }
      });
    });
  }
}

// 2. ç»„åˆæ¨¡å¼ - Vue ç»„ä»¶æ ‘
class VueComponent {
  constructor(options) {
    this.name = options.name;
    this.children = [];
    this.parent = null;
  }

  addChild(child) {
    child.parent = this;
    this.children.push(child);
  }

  removeChild(child) {
    const index = this.children.indexOf(child);
    if (index > -1) {
      this.children.splice(index, 1);
      child.parent = null;
    }
  }

  render() {
    console.log(`æ¸²æŸ“ç»„ä»¶: ${this.name}`);
    this.children.forEach(child => child.render());
  }
}

// 3. å·¥å‚æ¨¡å¼ - Vue ç»„ä»¶åˆ›å»º
class ComponentFactory {
  static createComponent(type, props) {
    const components = {
      'button': () => new ButtonComponent(props),
      'input': () => new InputComponent(props),
      'dialog': () => new DialogComponent(props)
    };

    const createComponent = components[type];
    if (!createComponent) {
      throw new Error(`æœªçŸ¥ç»„ä»¶ç±»å‹: ${type}`);
    }

    return createComponent();
  }
}
```

#### React ä¸­çš„è®¾è®¡æ¨¡å¼

```javascript
// 1. é«˜é˜¶ç»„ä»¶ - è£…é¥°å™¨æ¨¡å¼
function withLoading(WrappedComponent) {
  return function WithLoadingComponent(props) {
    if (props.isLoading) {
      return <div className="loading">åŠ è½½ä¸­...</div>;
    }
    return <WrappedComponent {...props} />;
  };
}

function withErrorBoundary(WrappedComponent) {
  return class extends React.Component {
    constructor(props) {
      super(props);
      this.state = { hasError: false };
    }

    static getDerivedStateFromError(error) {
      return { hasError: true };
    }

    componentDidCatch(error, errorInfo) {
      console.error('ç»„ä»¶é”™è¯¯:', error, errorInfo);
    }

    render() {
      if (this.state.hasError) {
        return <div>å‡ºé”™äº†ï¼</div>;
      }

      return <WrappedComponent {...this.props} />;
    }
  };
}

// 2. Render Props - ç­–ç•¥æ¨¡å¼
class MouseTracker extends React.Component {
  constructor(props) {
    super(props);
    this.state = { x: 0, y: 0 };
  }

  handleMouseMove = (event) => {
    this.setState({
      x: event.clientX,
      y: event.clientY
    });
  };

  render() {
    return (
      <div onMouseMove={this.handleMouseMove}>
        {this.props.render(this.state)}
      </div>
    );
  }
}

// ä½¿ç”¨ä¸åŒçš„æ¸²æŸ“ç­–ç•¥
function App() {
  return (
    <MouseTracker
      render={({ x, y }) => (
        <h1>é¼ æ ‡ä½ç½®: ({x}, {y})</h1>
      )}
    />
  );
}

// 3. Context API - å•ä¾‹æ¨¡å¼
const ThemeContext = React.createContext();

class ThemeProvider extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      theme: 'light',
      toggleTheme: this.toggleTheme
    };
  }

  toggleTheme = () => {
    this.setState(prevState => ({
      theme: prevState.theme === 'light' ? 'dark' : 'light'
    }));
  };

  render() {
    return (
      <ThemeContext.Provider value={this.state}>
        {this.props.children}
      </ThemeContext.Provider>
    );
  }
}
```

### Node.js ä¸­çš„è®¾è®¡æ¨¡å¼

```javascript
// 1. ä¸­é—´ä»¶æ¨¡å¼ - è´£ä»»é“¾æ¨¡å¼
class ExpressApp {
  constructor() {
    this.middlewares = [];
  }

  use(middleware) {
    this.middlewares.push(middleware);
  }

  handle(req, res) {
    let index = 0;

    const next = () => {
      if (index < this.middlewares.length) {
        const middleware = this.middlewares[index++];
        middleware(req, res, next);
      }
    };

    next();
  }
}

// ä½¿ç”¨
const app = new ExpressApp();

app.use((req, res, next) => {
  console.log('æ—¥å¿—ä¸­é—´ä»¶');
  next();
});

app.use((req, res, next) => {
  console.log('è®¤è¯ä¸­é—´ä»¶');
  next();
});

app.use((req, res, next) => {
  console.log('ä¸šåŠ¡å¤„ç†');
  res.send('å“åº”');
});

// 2. æ¨¡å—æ¨¡å¼ - å•ä¾‹æ¨¡å¼
const DatabaseConnection = (() => {
  let instance;

  function createConnection() {
    return {
      host: 'localhost',
      port: 3306,
      connect() {
        console.log('è¿æ¥æ•°æ®åº“');
      },
      query(sql) {
        console.log(`æ‰§è¡ŒæŸ¥è¯¢: ${sql}`);
      },
      close() {
        console.log('å…³é—­è¿æ¥');
      }
    };
  }

  return {
    getInstance() {
      if (!instance) {
        instance = createConnection();
      }
      return instance;
    }
  };
})();

// 3. äº‹ä»¶é©±åŠ¨ - è§‚å¯Ÿè€…æ¨¡å¼
const EventEmitter = require('events');

class OrderService extends EventEmitter {
  createOrder(orderData) {
    // åˆ›å»ºè®¢å•
    const order = { id: Date.now(), ...orderData };

    // è§¦å‘äº‹ä»¶
    this.emit('orderCreated', order);

    return order;
  }
}

const orderService = new OrderService();

// ç›‘å¬è®¢å•åˆ›å»ºäº‹ä»¶
orderService.on('orderCreated', (order) => {
  console.log('å‘é€ç¡®è®¤é‚®ä»¶');
});

orderService.on('orderCreated', (order) => {
  console.log('æ›´æ–°åº“å­˜');
});

orderService.on('orderCreated', (order) => {
  console.log('è®°å½•æ—¥å¿—');
});

// åˆ›å»ºè®¢å•ä¼šè§¦å‘æ‰€æœ‰ç›‘å¬å™¨
orderService.createOrder({ product: 'å•†å“A', quantity: 2 });
```

### è®¾è®¡æ¨¡å¼ç»„åˆä½¿ç”¨

```javascript
// ç»¼åˆç¤ºä¾‹ï¼šè´­ç‰©è½¦ç³»ç»Ÿ
// ä½¿ç”¨å¤šç§è®¾è®¡æ¨¡å¼çš„ç»„åˆ

// 1. å•ä¾‹æ¨¡å¼ - è´­ç‰©è½¦å®ä¾‹
class ShoppingCart {
  constructor() {
    if (ShoppingCart.instance) {
      return ShoppingCart.instance;
    }

    this.items = [];
    this.observers = [];
    this.discountStrategy = null;

    ShoppingCart.instance = this;
  }

  // è§‚å¯Ÿè€…æ¨¡å¼ - æ·»åŠ è§‚å¯Ÿè€…
  addObserver(observer) {
    this.observers.push(observer);
  }

  // é€šçŸ¥è§‚å¯Ÿè€…
  notify(event, data) {
    this.observers.forEach(observer => {
      if (observer[event]) {
        observer[event](data);
      }
    });
  }

  // æ·»åŠ å•†å“
  addItem(product, quantity = 1) {
    const existingItem = this.items.find(item => item.product.id === product.id);

    if (existingItem) {
      existingItem.quantity += quantity;
    } else {
      this.items.push({ product, quantity });
    }

    this.notify('itemAdded', { product, quantity });
  }

  // ç§»é™¤å•†å“
  removeItem(productId) {
    const index = this.items.findIndex(item => item.product.id === productId);
    if (index > -1) {
      const removedItem = this.items.splice(index, 1)[0];
      this.notify('itemRemoved', removedItem);
    }
  }

  // ç­–ç•¥æ¨¡å¼ - è®¾ç½®æŠ˜æ‰£ç­–ç•¥
  setDiscountStrategy(strategy) {
    this.discountStrategy = strategy;
  }

  // è®¡ç®—æ€»ä»·
  getTotal() {
    let total = this.items.reduce((sum, item) => {
      return sum + (item.product.price * item.quantity);
    }, 0);

    // åº”ç”¨æŠ˜æ‰£ç­–ç•¥
    if (this.discountStrategy) {
      total = this.discountStrategy.applyDiscount(total, this.items);
    }

    return total;
  }

  getItems() {
    return [...this.items];
  }

  clear() {
    this.items = [];
    this.notify('cartCleared');
  }
}

// 2. ç­–ç•¥æ¨¡å¼ - ä¸åŒçš„æŠ˜æ‰£ç­–ç•¥
class DiscountStrategy {
  applyDiscount(total, items) {
    return total;
  }
}

class PercentageDiscount extends DiscountStrategy {
  constructor(percentage) {
    super();
    this.percentage = percentage;
  }

  applyDiscount(total, items) {
    return total * (1 - this.percentage / 100);
  }
}

class FixedAmountDiscount extends DiscountStrategy {
  constructor(amount) {
    super();
    this.amount = amount;
  }

  applyDiscount(total, items) {
    return Math.max(0, total - this.amount);
  }
}

class BuyTwoGetOneFreeDiscount extends DiscountStrategy {
  applyDiscount(total, items) {
    let discount = 0;

    items.forEach(item => {
      const freeItems = Math.floor(item.quantity / 3);
      discount += freeItems * item.product.price;
    });

    return total - discount;
  }
}

// 3. è§‚å¯Ÿè€…æ¨¡å¼ - ä¸åŒçš„è§‚å¯Ÿè€…
class InventoryObserver {
  itemAdded(data) {
    console.log(`åº“å­˜å‡å°‘: ${data.product.name} -${data.quantity}`);
  }

  itemRemoved(data) {
    console.log(`åº“å­˜å¢åŠ : ${data.product.name} +${data.quantity}`);
  }
}

class AnalyticsObserver {
  itemAdded(data) {
    console.log(`åˆ†æ: ç”¨æˆ·æ·»åŠ äº† ${data.product.name}`);
  }

  itemRemoved(data) {
    console.log(`åˆ†æ: ç”¨æˆ·ç§»é™¤äº† ${data.product.name}`);
  }

  cartCleared() {
    console.log('åˆ†æ: ç”¨æˆ·æ¸…ç©ºäº†è´­ç‰©è½¦');
  }
}

class UIObserver {
  itemAdded(data) {
    this.updateCartUI();
  }

  itemRemoved(data) {
    this.updateCartUI();
  }

  cartCleared() {
    this.updateCartUI();
  }

  updateCartUI() {
    console.log('UI: æ›´æ–°è´­ç‰©è½¦æ˜¾ç¤º');
  }
}

// 4. å·¥å‚æ¨¡å¼ - äº§å“å·¥å‚
class ProductFactory {
  static createProduct(type, data) {
    const products = {
      'book': () => new Book(data),
      'electronics': () => new Electronics(data),
      'clothing': () => new Clothing(data)
    };

    const createProduct = products[type];
    if (!createProduct) {
      throw new Error(`æœªçŸ¥äº§å“ç±»å‹: ${type}`);
    }

    return createProduct();
  }
}

class Product {
  constructor(data) {
    this.id = data.id;
    this.name = data.name;
    this.price = data.price;
  }
}

class Book extends Product {
  constructor(data) {
    super(data);
    this.author = data.author;
    this.isbn = data.isbn;
  }
}

class Electronics extends Product {
  constructor(data) {
    super(data);
    this.brand = data.brand;
    this.warranty = data.warranty;
  }
}

class Clothing extends Product {
  constructor(data) {
    super(data);
    this.size = data.size;
    this.color = data.color;
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const cart = new ShoppingCart();

// æ·»åŠ è§‚å¯Ÿè€…
cart.addObserver(new InventoryObserver());
cart.addObserver(new AnalyticsObserver());
cart.addObserver(new UIObserver());

// åˆ›å»ºäº§å“
const book = ProductFactory.createProduct('book', {
  id: 1,
  name: 'JavaScripté«˜çº§ç¨‹åºè®¾è®¡',
  price: 89,
  author: 'Matt Frisbie'
});

const laptop = ProductFactory.createProduct('electronics', {
  id: 2,
  name: 'MacBook Pro',
  price: 12999,
  brand: 'Apple',
  warranty: '1å¹´'
});

// æ·»åŠ åˆ°è´­ç‰©è½¦
cart.addItem(book, 2);
cart.addItem(laptop, 1);

console.log('åŸä»·æ€»è®¡:', cart.getTotal());

// åº”ç”¨ä¸åŒçš„æŠ˜æ‰£ç­–ç•¥
cart.setDiscountStrategy(new PercentageDiscount(10));
console.log('ä¹æŠ˜å:', cart.getTotal());

cart.setDiscountStrategy(new FixedAmountDiscount(1000));
console.log('å‡1000å:', cart.getTotal());

cart.setDiscountStrategy(new BuyTwoGetOneFreeDiscount());
console.log('ä¹°äºŒé€ä¸€å:', cart.getTotal());
```

---

## å­¦ä¹ è·¯å¾„

### ğŸ¯ åˆå­¦è€…å­¦ä¹ é¡ºåº

#### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¨¡å¼ï¼ˆå¿…å­¦ï¼‰
1. **å•ä¾‹æ¨¡å¼** - æœ€å®¹æ˜“ç†è§£ï¼Œå®ç”¨æ€§å¼º
2. **å·¥å‚æ¨¡å¼** - ç†è§£å¯¹è±¡åˆ›å»ºçš„æŠ½è±¡
3. **è§‚å¯Ÿè€…æ¨¡å¼** - ç†è§£äº‹ä»¶é©±åŠ¨ç¼–ç¨‹

**ğŸ¤” æ€è€ƒé¢˜ï¼š**
- åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œå“ªäº›åœ°æ–¹å¯èƒ½éœ€è¦å…¨å±€å”¯ä¸€çš„å®ä¾‹ï¼Ÿ
- ä»€ä¹ˆæ—¶å€™éœ€è¦æ ¹æ®æ¡ä»¶åˆ›å»ºä¸åŒç±»å‹çš„å¯¹è±¡ï¼Ÿ
- å¦‚ä½•å®ç°æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°UIï¼Ÿ

#### ç¬¬äºŒé˜¶æ®µï¼šç»“æ„æ¨¡å¼ï¼ˆè¿›é˜¶ï¼‰
4. **è£…é¥°å™¨æ¨¡å¼** - ç†è§£åŠŸèƒ½çš„åŠ¨æ€æ‰©å±•
5. **é€‚é…å™¨æ¨¡å¼** - å­¦ä¼šå¤„ç†æ¥å£ä¸å…¼å®¹é—®é¢˜
6. **ä»£ç†æ¨¡å¼** - ç†è§£é—´æ¥è®¿é—®çš„ä»·å€¼

#### ç¬¬ä¸‰é˜¶æ®µï¼šè¡Œä¸ºæ¨¡å¼ï¼ˆé«˜çº§ï¼‰
7. **ç­–ç•¥æ¨¡å¼** - é¿å…å¤æ‚çš„æ¡ä»¶è¯­å¥
8. **å‘½ä»¤æ¨¡å¼** - ç†è§£æ“ä½œçš„å°è£…
9. **çŠ¶æ€æ¨¡å¼** - å¤„ç†å¯¹è±¡çŠ¶æ€å˜åŒ–

### ğŸ“š å­¦ä¹ æ–¹æ³•å»ºè®®

#### 1. ç†è®º + å®è·µç»“åˆ
```javascript
// ä¸è¦åªçœ‹æ¦‚å¿µï¼Œè¦åŠ¨æ‰‹å®ç°
class PatternExample {
  // å…ˆå†™å‡ºæœ€ç®€å•çš„å®ç°
  basicImplementation() {
    // ...
  }

  // å†è€ƒè™‘å®é™…åº”ç”¨åœºæ™¯
  realWorldExample() {
    // ...
  }

  // æœ€åæ€è€ƒä¼˜åŒ–å’Œå˜ç§
  advancedFeatures() {
    // ...
  }
}
```

#### 2. ä»é—®é¢˜å‡ºå‘å­¦ä¹ 
- **é‡åˆ°é—®é¢˜æ—¶**ï¼šè¿™ä¸ªé—®é¢˜æ˜¯å¦æœ‰å¯¹åº”çš„è®¾è®¡æ¨¡å¼ï¼Ÿ
- **å­¦ä¹ æ¨¡å¼æ—¶**ï¼šè¿™ä¸ªæ¨¡å¼è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- **åº”ç”¨æ¨¡å¼æ—¶**ï¼šè¿™é‡Œæ˜¯å¦çœŸçš„éœ€è¦è¿™ä¸ªæ¨¡å¼ï¼Ÿ

#### 3. æ¸è¿›å¼æ·±å…¥
```
ç¬¬ä¸€éï¼šç†è§£æ¦‚å¿µï¼ŒçŸ¥é“æ˜¯ä»€ä¹ˆ
ç¬¬äºŒéï¼šç†è§£åŸç†ï¼ŒçŸ¥é“ä¸ºä»€ä¹ˆ
ç¬¬ä¸‰éï¼šå®é™…åº”ç”¨ï¼ŒçŸ¥é“æ€ä¹ˆç”¨
ç¬¬å››éï¼šèä¼šè´¯é€šï¼ŒçŸ¥é“ä½•æ—¶ç”¨
```

### ğŸ› ï¸ å®è·µé¡¹ç›®æ¨è

#### åˆçº§é¡¹ç›®
1. **å¾…åŠäº‹é¡¹åº”ç”¨**
   - ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å®ç°æ•°æ®ç»‘å®š
   - ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°ä¸åŒçš„æ’åºæ–¹å¼
   - ä½¿ç”¨å•ä¾‹æ¨¡å¼ç®¡ç†åº”ç”¨çŠ¶æ€

2. **è®¡ç®—å™¨åº”ç”¨**
   - ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°ä¸åŒçš„è®¡ç®—æ“ä½œ
   - ä½¿ç”¨å‘½ä»¤æ¨¡å¼å®ç°æ’¤é”€/é‡åšåŠŸèƒ½
   - ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºæŒ‰é’®ç»„ä»¶

#### ä¸­çº§é¡¹ç›®
3. **éŸ³ä¹æ’­æ”¾å™¨**
   - ä½¿ç”¨çŠ¶æ€æ¨¡å¼ç®¡ç†æ’­æ”¾çŠ¶æ€
   - ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼æ·»åŠ éŸ³æ•ˆ
   - ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å®ç°æ’­æ”¾åˆ—è¡¨åŒæ­¥

4. **åœ¨çº¿å•†åŸ**
   - ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºä¸åŒç±»å‹çš„å•†å“
   - ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°ä¸åŒçš„æ”¯ä»˜æ–¹å¼
   - ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼å®ç°å•†å“åŠŸèƒ½æ‰©å±•

#### é«˜çº§é¡¹ç›®
5. **ä»£ç ç¼–è¾‘å™¨**
   - ä½¿ç”¨å‘½ä»¤æ¨¡å¼å®ç°ç¼–è¾‘æ“ä½œ
   - ä½¿ç”¨ç»„åˆæ¨¡å¼æ„å»ºè¯­æ³•æ ‘
   - ä½¿ç”¨è®¿é—®è€…æ¨¡å¼å®ç°è¯­æ³•é«˜äº®

6. **æ¸¸æˆå¼•æ“**
   - ä½¿ç”¨ç»„ä»¶æ¨¡å¼æ„å»ºæ¸¸æˆå¯¹è±¡
   - ä½¿ç”¨çŠ¶æ€æ¨¡å¼ç®¡ç†æ¸¸æˆçŠ¶æ€
   - ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å®ç°äº‹ä»¶ç³»ç»Ÿ

### ğŸš€ è¿›é˜¶å­¦ä¹ å»ºè®®

#### 1. é˜…è¯»ä¼˜ç§€æºç 
```javascript
// ç ”ç©¶æµè¡Œæ¡†æ¶ä¸­çš„è®¾è®¡æ¨¡å¼ä½¿ç”¨
// Vue.js æºç ä¸­çš„å“åº”å¼ç³»ç»Ÿï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰
// React æºç ä¸­çš„ Fiber æ¶æ„ï¼ˆç»„åˆæ¨¡å¼ï¼‰
// Express.js ä¸­é—´ä»¶ç³»ç»Ÿï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰
```

#### 2. ç†è§£åæ¨¡å¼
```javascript
// å­¦ä¼šè¯†åˆ«å’Œé¿å…å¸¸è§çš„åæ¨¡å¼
class AntiPattern {
  // God Object - è¿åå•ä¸€èŒè´£åŸåˆ™
  godObject() {
    // ä¸€ä¸ªç±»åšå¤ªå¤šäº‹æƒ…
  }

  // Spaghetti Code - è¿‡åº¦è€¦åˆ
  spaghettiCode() {
    // ä»£ç é€»è¾‘æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤
  }

  // Copy-Paste Programming - é‡å¤ä»£ç 
  copyPasteCode() {
    // å¤§é‡é‡å¤ï¼Œè¿åDRYåŸåˆ™
  }
}
```

#### 3. è®¾è®¡æ¨¡å¼ç»„åˆ
```javascript
// å­¦ä¼šç»„åˆä½¿ç”¨å¤šç§æ¨¡å¼
class AdvancedPattern {
  // åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­ä½¿ç”¨å¤šç§æ¨¡å¼
  combinePatterns() {
    // è§‚å¯Ÿè€… + ç­–ç•¥ + å·¥å‚ + å•ä¾‹
  }
}
```

### ğŸ“– æ¨èå­¦ä¹ èµ„æº

#### ç»å…¸ä¹¦ç±
1. **ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹** - GoFå››äººç»„
2. **ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹** - ç”ŸåŠ¨æ˜“æ‡‚çš„å…¥é—¨ä¹¦
3. **ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹** - JavaScriptå®ç°

#### åœ¨çº¿èµ„æº
1. **Refactoring.Guru** - ä¼˜ç§€çš„è®¾è®¡æ¨¡å¼æ•™ç¨‹
2. **MDN Web Docs** - JavaScriptç›¸å…³æ¨¡å¼
3. **GitHub** - æœç´¢è®¾è®¡æ¨¡å¼çš„å®ç°ä»£ç 

#### å®è·µå¹³å°
1. **LeetCode** - ç®—æ³•ä¸­çš„æ¨¡å¼åº”ç”¨
2. **Codepen** - å‰ç«¯æ¨¡å¼æ¼”ç¤º
3. **GitHub** - å¼€æºé¡¹ç›®å­¦ä¹ 

---

## æ€»ç»“

### ğŸ¯ æ ¸å¿ƒæ€æƒ³
è®¾è®¡æ¨¡å¼ä¸æ˜¯é“¶å¼¹ï¼Œè€Œæ˜¯å·¥å…·ç®±ä¸­çš„å·¥å…·ã€‚å…³é”®æ˜¯ï¼š
- **ç†è§£é—®é¢˜çš„æœ¬è´¨**
- **é€‰æ‹©åˆé€‚çš„æ¨¡å¼**
- **é¿å…è¿‡åº¦è®¾è®¡**
- **ä¿æŒä»£ç ç®€æ´**

### ğŸ¤” æ€è€ƒä¸åæ€
åœ¨å­¦ä¹ å’Œåº”ç”¨è®¾è®¡æ¨¡å¼æ—¶ï¼Œè¦ç»å¸¸é—®è‡ªå·±ï¼š
1. è¿™ä¸ªæ¨¡å¼çœŸçš„è§£å†³äº†é—®é¢˜å—ï¼Ÿ
2. æ˜¯å¦æœ‰æ›´ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Ÿ
3. ä»£ç æ˜¯å¦å˜å¾—æ›´å®¹æ˜“ç†è§£å’Œç»´æŠ¤ï¼Ÿ
4. æ˜¯å¦ä¸ºäº†ä½¿ç”¨æ¨¡å¼è€Œä½¿ç”¨æ¨¡å¼ï¼Ÿ

### ğŸ’¡ æœ€ä½³å®è·µ
1. **éœ€æ±‚é©±åŠ¨**ï¼šå…ˆæœ‰é—®é¢˜ï¼Œå†æ‰¾æ¨¡å¼
2. **æ¸è¿›å¼é‡æ„**ï¼šä¸è¦ä¸€å¼€å§‹å°±è¿‡åº¦è®¾è®¡
3. **å›¢é˜Ÿçº¦å®š**ï¼šä¿æŒå›¢é˜Ÿå¯¹æ¨¡å¼ä½¿ç”¨çš„ä¸€è‡´æ€§
4. **æŒç»­å­¦ä¹ **ï¼šè®¾è®¡æ¨¡å¼æ˜¯æ€ç»´æ–¹å¼ï¼Œéœ€è¦ä¸æ–­å®è·µ

**è®°ä½ï¼šä¼˜ç§€çš„ä»£ç ä¸æ˜¯å› ä¸ºä½¿ç”¨äº†è®¾è®¡æ¨¡å¼è€Œä¼˜ç§€ï¼Œè€Œæ˜¯å› ä¸ºè§£å†³äº†é—®é¢˜å¹¶ä¸”æ˜“äºç»´æŠ¤è€Œä¼˜ç§€ã€‚è®¾è®¡æ¨¡å¼åªæ˜¯è¾¾åˆ°è¿™ä¸ªç›®æ ‡çš„æ‰‹æ®µä¹‹ä¸€ã€‚** ğŸš€

---

**ç»§ç»­å­¦ä¹ ï¼Œä¸æ–­å®è·µï¼Œè®©è®¾è®¡æ¨¡å¼æˆä¸ºä½ ç¼–ç¨‹æ€ç»´çš„ä¸€éƒ¨åˆ†ï¼** ğŸ’ª